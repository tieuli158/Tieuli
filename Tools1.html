<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"></head>
<body>
<script>
/* BẢN QUYỀN THUỘC VỀ DEV LONG - KHÔNG SAO CHÉP */

document.addEventListener('contextmenu', event => event.preventDefault());
document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && (e.key === 'c' || e.key === 'u' || e.key === 's')) {
        e.preventDefault();
    }
});

setInterval(function() {
    var _0xStart = new Date().getTime();
    debugger; 
    var _0xEnd = new Date().getTime();
    if (_0xEnd - _0xStart > 100) { 
        document.body.innerHTML = '<h1 style="color:red;text-align:center;margin-top:20%">Phát hiện xâm nhập! Vui lòng đóng DevTools.</h1>';
        window.location.reload(); 
    }
}, 500);


var _0xSafe = "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9InZpIj4KCjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPCEtLSDEkMODIFPhu6xBOiBWaWV3cG9ydCBjaHXhuqluIGNobyBNb2JpbGUgLS0+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8sIHZpZXdwb3J0LWZpdD1jb3ZlciI+CiAgICAKICAgIDwhLS0gQ+G6pFUgSMOMTkggxJDhu4IgQknhur5OIEZJTEUgVEjDgE5IIFdFQiBBUFAgKEZVTEwgTcOATiBIw4xOSCkgLS0+CiAgICA8bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlIiBjb250ZW50PSJ5ZXMiPgogICAgPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtc3RhdHVzLWJhci1zdHlsZSIgY29udGVudD0iYmxhY2stdHJhbnNsdWNlbnQiPgogICAgPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtdGl0bGUiIGNvbnRlbnQ9Ik1NTGl2ZSBUb29scyI+CiAgICA8bWV0YSBuYW1lPSJtb2JpbGUtd2ViLWFwcC1jYXBhYmxlIiBjb250ZW50PSJ5ZXMiPgogICAgPG1ldGEgbmFtZT0idGhlbWUtY29sb3IiIGNvbnRlbnQ9IiMwZjBjMjkiPgogICAgCiAgICA8IS0tIElDT04gQ0hPIEFQUCAoS2hpIHRow6ptIHbDoG8gbcOgbiBow6xuaCBjaMOtbmggc+G6vSBoaeG7h24gaWNvbiBuw6B5KSAtLT4KICAgIDxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgaHJlZj0iaHR0cHM6Ly91aS1hdmF0YXJzLmNvbS9hcGkvP25hbWU9TU0mYmFja2dyb3VuZD0wRDhBQkMmY29sb3I9ZmZmJnNpemU9NTEyJmZvbnQtc2l6ZT0wLjUiPgogICAgPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9wbmciIGhyZWY9Imh0dHBzOi8vdWktYXZhdGFycy5jb20vYXBpLz9uYW1lPU1NJmJhY2tncm91bmQ9MEQ4QUJDJmNvbG9yPWZmZiZzaXplPTUxMiZmb250LXNpemU9MC41Ij4KCiAgICA8dGl0bGU+TG9uZyBOZ3V54buFbiAtIFRvb2xzIE1NTGl2ZSAoVjE0IE1vYmlsZSAmIFBDKTwvdGl0bGU+CiAgICA8IS0tIFRoxrAgdmnhu4duIE1ENSBpbmxpbmUgLSBHSeG7riBOR1VZw4pOIDEwMCUgVOG7qiBC4bqiTiBH4buQQyAtLT4KICAgIDxzY3JpcHQ+CiAgICAgICAgLy8gTUQ1IGltcGxlbWVudGF0aW9uCiAgICAgICAgZnVuY3Rpb24gbWQ1KHN0cmluZykgewogICAgICAgICAgICBmdW5jdGlvbiByb3RhdGVMZWZ0KHZhbHVlLCBhbW91bnQpIHsKICAgICAgICAgICAgICAgIHZhciBsYml0cyA9IHZhbHVlIDw8IGFtb3VudDsKICAgICAgICAgICAgICAgIHZhciByYml0cyA9IHZhbHVlID4+PiAoMzIgLSBhbW91bnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIChsYml0cyB8IHJiaXRzKSAmIDB4RkZGRkZGRkY7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFVuc2lnbmVkKGxYLCBsWSkgewogICAgICAgICAgICAgICAgdmFyIGxYNCwgbFk0LCBsWDgsIGxZOCwgbFJlc3VsdDsKICAgICAgICAgICAgICAgIGxYOCA9IChsWCAmIDB4ODAwMDAwMDApOwogICAgICAgICAgICAgICAgbFk4ID0gKGxZICYgMHg4MDAwMDAwMCk7CiAgICAgICAgICAgICAgICBsWDQgPSAobFggJiAweDQwMDAwMDAwKTsKICAgICAgICAgICAgICAgIGxZNCA9IChsWSAmIDB4NDAwMDAwMDApOwogICAgICAgICAgICAgICAgbFJlc3VsdCA9IChsWCAmIDB4M0ZGRkZGRkYpICsgKGxZICYgMHgzRkZGRkZGRik7CiAgICAgICAgICAgICAgICBpZiAobFg0ICYgbFk0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsUmVzdWx0IF4gMHg4MDAwMDAwMCBeIGxYOCBeIGxZOCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobFg0IHwgbFk0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxSZXN1bHQgJiAweDQwMDAwMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobFJlc3VsdCBeIDB4QzAwMDAwMDAgXiBsWDggXiBsWTgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobFJlc3VsdCBeIDB4NDAwMDAwMDAgXiBsWDggXiBsWTgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsUmVzdWx0IF4gbFg4IF4gbFk4KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gRih4LCB5LCB6KSB7IHJldHVybiAoeCAmIHkpIHwgKCh+eCkgJiB6KTsgfQogICAgICAgICAgICBmdW5jdGlvbiBHKHgsIHksIHopIHsgcmV0dXJuICh4ICYgeikgfCAoeSAmICh+eikpOyB9CiAgICAgICAgICAgIGZ1bmN0aW9uIEgoeCwgeSwgeikgeyByZXR1cm4gKHggXiB5IF4geik7IH0KICAgICAgICAgICAgZnVuY3Rpb24gSSh4LCB5LCB6KSB7IHJldHVybiAoeSBeICh4IHwgKH56KSkpOyB9CgogICAgICAgICAgICBmdW5jdGlvbiBGRihhLCBiLCBjLCBkLCB4LCBzLCBhYykgewogICAgICAgICAgICAgICAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEYoYiwgYywgZCksIHgpLCBhYykpOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBHRyhhLCBiLCBjLCBkLCB4LCBzLCBhYykgewogICAgICAgICAgICAgICAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEcoYiwgYywgZCksIHgpLCBhYykpOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBISChhLCBiLCBjLCBkLCB4LCBzLCBhYykgewogICAgICAgICAgICAgICAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEgoYiwgYywgZCksIHgpLCBhYykpOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBJSShhLCBiLCBjLCBkLCB4LCBzLCBhYykgewogICAgICAgICAgICAgICAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEkoYiwgYywgZCksIHgpLCBhYykpOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjb252ZXJ0VG9Xb3JkQXJyYXkoc3RyaW5nKSB7CiAgICAgICAgICAgICAgICB2YXIgbFdvcmRDb3VudDsKICAgICAgICAgICAgICAgIHZhciBsTWVzc2FnZUxlbmd0aCA9IHN0cmluZy5sZW5ndGg7CiAgICAgICAgICAgICAgICB2YXIgbE51bWJlck9mV29yZHNfdGVtcDEgPSBsTWVzc2FnZUxlbmd0aCArIDg7CiAgICAgICAgICAgICAgICB2YXIgbE51bWJlck9mV29yZHNfdGVtcDIgPSAobE51bWJlck9mV29yZHNfdGVtcDEgLSAobE51bWJlck9mV29yZHNfdGVtcDEgJSA2NCkpIC8gNjQ7CiAgICAgICAgICAgICAgICB2YXIgbE51bWJlck9mV29yZHMgPSAobE51bWJlck9mV29yZHNfdGVtcDIgKyAxKSAqIDE2OwogICAgICAgICAgICAgICAgdmFyIGxXb3JkQXJyYXkgPSBBcnJheShsTnVtYmVyT2ZXb3JkcyAtIDEpOwogICAgICAgICAgICAgICAgdmFyIGxCeXRlUG9zaXRpb24gPSAwOwogICAgICAgICAgICAgICAgdmFyIGxCeXRlQ291bnQgPSAwOwogICAgICAgICAgICAgICAgd2hpbGUgKGxCeXRlQ291bnQgPCBsTWVzc2FnZUxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGxXb3JkQ291bnQgPSAobEJ5dGVDb3VudCAtIChsQnl0ZUNvdW50ICUgNCkpIC8gNDsKICAgICAgICAgICAgICAgICAgICBsQnl0ZVBvc2l0aW9uID0gKGxCeXRlQ291bnQgJSA0KSAqIDg7CiAgICAgICAgICAgICAgICAgICAgbFdvcmRBcnJheVtsV29yZENvdW50XSA9IChsV29yZEFycmF5W2xXb3JkQ291bnRdIHwgKHN0cmluZy5jaGFyQ29kZUF0KGxCeXRlQ291bnQpIDw8IGxCeXRlUG9zaXRpb24pKTsKICAgICAgICAgICAgICAgICAgICBsQnl0ZUNvdW50Kys7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsV29yZENvdW50ID0gKGxCeXRlQ291bnQgLSAobEJ5dGVDb3VudCAlIDQpKSAvIDQ7CiAgICAgICAgICAgICAgICBsQnl0ZVBvc2l0aW9uID0gKGxCeXRlQ291bnQgJSA0KSAqIDg7CiAgICAgICAgICAgICAgICBsV29yZEFycmF5W2xXb3JkQ291bnRdID0gbFdvcmRBcnJheVtsV29yZENvdW50XSB8ICgweDgwIDw8IGxCeXRlUG9zaXRpb24pOwogICAgICAgICAgICAgICAgbFdvcmRBcnJheVtsTnVtYmVyT2ZXb3JkcyAtIDJdID0gbE1lc3NhZ2VMZW5ndGggPDwgMzsKICAgICAgICAgICAgICAgIGxXb3JkQXJyYXlbbE51bWJlck9mV29yZHMgLSAxXSA9IGxNZXNzYWdlTGVuZ3RoID4+PiAyOTsKICAgICAgICAgICAgICAgIHJldHVybiBsV29yZEFycmF5OwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3b3JkVG9IZXgobFZhbHVlKSB7CiAgICAgICAgICAgICAgICB2YXIgV29yZFRvSGV4VmFsdWUgPSAiIiwgV29yZFRvSGV4VmFsdWVfdGVtcCA9ICIiLCBsQnl0ZSwgbENvdW50OwogICAgICAgICAgICAgICAgZm9yIChsQ291bnQgPSAwOyBsQ291bnQgPD0gMzsgbENvdW50KyspIHsKICAgICAgICAgICAgICAgICAgICBsQnl0ZSA9IChsVmFsdWUgPj4+IChsQ291bnQgKiA4KSkgJiAyNTU7CiAgICAgICAgICAgICAgICAgICAgV29yZFRvSGV4VmFsdWVfdGVtcCA9ICIwIiArIGxCeXRlLnRvU3RyaW5nKDE2KTsKICAgICAgICAgICAgICAgICAgICBXb3JkVG9IZXhWYWx1ZSA9IFdvcmRUb0hleFZhbHVlICsgV29yZFRvSGV4VmFsdWVfdGVtcC5zdWJzdHIoV29yZFRvSGV4VmFsdWVfdGVtcC5sZW5ndGggLSAyLCAyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBXb3JkVG9IZXhWYWx1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHggPSBBcnJheSgpOwogICAgICAgICAgICB2YXIgaywgQUEsIEJCLCBDQywgREQsIGEsIGIsIGMsIGQ7CiAgICAgICAgICAgIHZhciBTMTEgPSA3LCBTMTIgPSAxMiwgUzEzID0gMTcsIFMxNCA9IDIyOwogICAgICAgICAgICB2YXIgUzIxID0gNSwgUzIyID0gOSwgUzIzID0gMTQsIFMyNCA9IDIwOwogICAgICAgICAgICB2YXIgUzMxID0gNCwgUzMyID0gMTEsIFMzMyA9IDE2LCBTMzQgPSAyMzsKICAgICAgICAgICAgdmFyIFM0MSA9IDYsIFM0MiA9IDEwLCBTNDMgPSAxNSwgUzQ0ID0gMjE7CgogICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXHJcbi9nLCAiXG4iKTsKICAgICAgICAgICAgdmFyIHV0ZnRleHQgPSAiIjsKICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBzdHJpbmcubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQobik7CiAgICAgICAgICAgICAgICBpZiAoYyA8IDEyOCkgewogICAgICAgICAgICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGMgPiAxMjcpICYmIChjIDwgMjA0OCkpIHsKICAgICAgICAgICAgICAgICAgICB1dGZ0ZXh0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgPj4gNikgfCAxOTIpOwogICAgICAgICAgICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyA+PiAxMikgfCAyMjQpOwogICAgICAgICAgICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgPj4gNikgJiA2MykgfCAxMjgpOwogICAgICAgICAgICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHggPSBjb252ZXJ0VG9Xb3JkQXJyYXkodXRmdGV4dCk7CiAgICAgICAgICAgIGEgPSAweDY3NDUyMzAxOyBiID0gMHhFRkNEQUI4OTsgYyA9IDB4OThCQURDRkU7IGQgPSAweDEwMzI1NDc2OwoKICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHgubGVuZ3RoOyBrICs9IDE2KSB7CiAgICAgICAgICAgICAgICBBQSA9IGE7IEJCID0gYjsgQ0MgPSBjOyBERCA9IGQ7CiAgICAgICAgICAgICAgICBhID0gRkYoYSwgYiwgYywgZCwgeFtrICsgMF0sIFMxMSwgMHhENzZBQTQ3OCk7CiAgICAgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgeFtrICsgMV0sIFMxMiwgMHhFOEM3Qjc1Nik7CiAgICAgICAgICAgICAgICBjID0gRkYoYywgZCwgYSwgYiwgeFtrICsgMl0sIFMxMywgMHgyNDIwNzBEQik7CiAgICAgICAgICAgICAgICBiID0gRkYoYiwgYywgZCwgYSwgeFtrICsgM10sIFMxNCwgMHhDMUJEQ0VFRSk7CiAgICAgICAgICAgICAgICBhID0gRkYoYSwgYiwgYywgZCwgeFtrICsgNF0sIFMxMSwgMHhGNTdDMEZBRik7CiAgICAgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgeFtrICsgNV0sIFMxMiwgMHg0Nzg3QzYyQSk7CiAgICAgICAgICAgICAgICBjID0gRkYoYywgZCwgYSwgYiwgeFtrICsgNl0sIFMxMywgMHhBODMwNDYxMyk7CiAgICAgICAgICAgICAgICBiID0gRkYoYiwgYywgZCwgYSwgeFtrICsgN10sIFMxNCwgMHhGRDQ2OTUwMSk7CiAgICAgICAgICAgICAgICBhID0gRkYoYSwgYiwgYywgZCwgeFtrICsgOF0sIFMxMSwgMHg2OTgwOThEOCk7CiAgICAgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgeFtrICsgOV0sIFMxMiwgMHg4QjQ0RjdBRik7CiAgICAgICAgICAgICAgICBjID0gRkYoYywgZCwgYSwgYiwgeFtrICsgMTBdLCBTMTMsIDB4RkZGRjVCQjEpOwogICAgICAgICAgICAgICAgYiA9IEZGKGIsIGMsIGQsIGEsIHhbayArIDExXSwgUzE0LCAweDg5NUNEN0JFKTsKICAgICAgICAgICAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCB4W2sgKyAxMl0sIFMxMSwgMHg2QjkwMTEyMik7CiAgICAgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgeFtrICsgMTNdLCBTMTIsIDB4RkQ5ODcxOTMpOwogICAgICAgICAgICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIHhbayArIDE0XSwgUzEzLCAweEE2Nzk0MzhFKTsKICAgICAgICAgICAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCB4W2sgKyAxNV0sIFMxNCwgMHg0OUI0MDgyMSk7CiAgICAgICAgICAgICAgICBhID0gR0coYSwgYiwgYywgZCwgeFtrICsgMV0sIFMyMSwgMHhGNjFFMjU2Mik7CiAgICAgICAgICAgICAgICBkID0gR0coZCwgYSwgYiwgYywgeFtrICsgNl0sIFMyMiwgMHhDMDQwQjM0MCk7CiAgICAgICAgICAgICAgICBjID0gR0coYywgZCwgYSwgYiwgeFtrICsgMTFdLCBTMjMsIDB4MjY1RTVBNTEpOwogICAgICAgICAgICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIHhbayArIDBdLCBTMjQsIDB4RTlCNkM3QUEpOwogICAgICAgICAgICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIHhbayArIDVdLCBTMjEsIDB4RDYyRjEwNUQpOwogICAgICAgICAgICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIHhbayArIDEwXSwgUzIyLCAweDI0NDE0NTMpOwogICAgICAgICAgICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIHhbayArIDE1XSwgUzIzLCAweEQ4QTFFNjgxKTsKICAgICAgICAgICAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCB4W2sgKyA0XSwgUzI0LCAweEU3RDNGQkM4KTsKICAgICAgICAgICAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCB4W2sgKyA5XSwgUzIxLCAweDIxRTFDREU2KTsKICAgICAgICAgICAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCB4W2sgKyAxNF0sIFMyMiwgMHhDMzM3MDdENik7CiAgICAgICAgICAgICAgICBjID0gR0coYywgZCwgYSwgYiwgeFtrICsgM10sIFMyMywgMHhGNEQ1MEQ4Nyk7CiAgICAgICAgICAgICAgICBiID0gR0coYiwgYywgZCwgYSwgeFtrICsgOF0sIFMyNCwgMHg0NTVBMTRFRCk7CiAgICAgICAgICAgICAgICBhID0gR0coYSwgYiwgYywgZCwgeFtrICsgMTNdLCBTMjEsIDB4QTlFM0U5MDUpOwogICAgICAgICAgICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIHhbayArIDJdLCBTMjIsIDB4RkNFRkEzRjgpOwogICAgICAgICAgICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIHhbayArIDddLCBTMjMsIDB4Njc2RjAyRDkpOwogICAgICAgICAgICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIHhbayArIDEyXSwgUzI0LCAweDhEMkE0QzhBKTsKICAgICAgICAgICAgICAgIGEgPSBISChhLCBiLCBjLCBkLCB4W2sgKyA1XSwgUzMxLCAweEZGRkEzOTQyKTsKICAgICAgICAgICAgICAgIGQgPSBISChkLCBhLCBiLCBjLCB4W2sgKyA4XSwgUzMyLCAweDg3NzFGNjgxKTsKICAgICAgICAgICAgICAgIGMgPSBISChjLCBkLCBhLCBiLCB4W2sgKyAxMV0sIFMzMywgMHg2RDlENjEyMik7CiAgICAgICAgICAgICAgICBiID0gSEgoYiwgYywgZCwgYSwgeFtrICsgMTRdLCBTMzQsIDB4RkRFNTM4MEMpOwogICAgICAgICAgICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIHhbayArIDFdLCBTMzEsIDB4QTRCRUVBNDQpOwogICAgICAgICAgICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIHhbayArIDRdLCBTMzIsIDB4NEJERUNGQTkpOwogICAgICAgICAgICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIHhbayArIDddLCBTMzMsIDB4RjZCQjRCNjApOwogICAgICAgICAgICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIHhbayArIDEwXSwgUzM0LCAweEJFQkZCQzcwKTsKICAgICAgICAgICAgICAgIGEgPSBISChhLCBiLCBjLCBkLCB4W2sgKyAxM10sIFMzMSwgMHgyODlCN0VDNik7CiAgICAgICAgICAgICAgICBkID0gSEgoZCwgYSwgYiwgYywgeFtrICsgMF0sIFMzMiwgMHhFQUExMjdGQSk7CiAgICAgICAgICAgICAgICBjID0gSEgoYywgZCwgYSwgYiwgeFtrICsgM10sIFMzMywgMHhENEVGMzA4NSk7CiAgICAgICAgICAgICAgICBiID0gSEgoYiwgYywgZCwgYSwgeFtrICsgNl0sIFMzNCwgMHg0ODgxRDA1KTsKICAgICAgICAgICAgICAgIGEgPSBISChhLCBiLCBjLCBkLCB4W2sgKyA5XSwgUzMxLCAweEQ5RDREMDM5KTsKICAgICAgICAgICAgICAgIGQgPSBISChkLCBhLCBiLCBjLCB4W2sgKyAxMl0sIFMzMiwgMHhFNkRCOTlFNSk7CiAgICAgICAgICAgICAgICBjID0gSEgoYywgZCwgYSwgYiwgeFtrICsgMTVdLCBTMzMsIDB4MUZBMjdDRjgpOwogICAgICAgICAgICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIHhbayArIDJdLCBTMzQsIDB4QzRBQzU2NjUpOwogICAgICAgICAgICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIHhbayArIDBdLCBTNDEsIDB4RjQyOTIyNDQpOwogICAgICAgICAgICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIHhbayArIDddLCBTNDIsIDB4NDMyQUZGOTcpOwogICAgICAgICAgICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIHhbayArIDE0XSwgUzQzLCAweEFCOTQyM0E3KTsKICAgICAgICAgICAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCB4W2sgKyA1XSwgUzQ0LCAweEZDOTNBMDM5KTsKICAgICAgICAgICAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCB4W2sgKyAxMl0sIFM0MSwgMHg2NTVCNTlDMyk7CiAgICAgICAgICAgICAgICBkID0gSUkoZCwgYSwgYiwgYywgeFtrICsgM10sIFM0MiwgMHg4RjBDQ0M5Mik7CiAgICAgICAgICAgICAgICBjID0gSUkoYywgZCwgYSwgYiwgeFtrICsgMTBdLCBTNDMsIDB4RkZFRkY0N0QpOwogICAgICAgICAgICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIHhbayArIDFdLCBTNDQsIDB4ODU4NDVERDEpOwogICAgICAgICAgICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIHhbayArIDhdLCBTNDEsIDB4NkZBODdFNEYpOwogICAgICAgICAgICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIHhbayArIDE1XSwgUzQyLCAweEZFMkNFNkUwKTsKICAgICAgICAgICAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCB4W2sgKyA2XSwgUzQzLCAweEEzMDE0MzE0KTsKICAgICAgICAgICAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCB4W2sgKyAxM10sIFM0NCwgMHg0RTA4MTFBMSk7CiAgICAgICAgICAgICAgICBhID0gSUkoYSwgYiwgYywgZCwgeFtrICsgNF0sIFM0MSwgMHhGNzUzN0U4Mik7CiAgICAgICAgICAgICAgICBkID0gSUkoZCwgYSwgYiwgYywgeFtrICsgMTFdLCBTNDIsIDB4QkQzQUYyMzUpOwogICAgICAgICAgICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIHhbayArIDJdLCBTNDMsIDB4MkFEN0QyQkIpOwogICAgICAgICAgICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIHhbayArIDldLCBTNDQsIDB4RUI4NkQzOTEpOwogICAgICAgICAgICAgICAgYSA9IGFkZFVuc2lnbmVkKGEsIEFBKTsKICAgICAgICAgICAgICAgIGIgPSBhZGRVbnNpZ25lZChiLCBCQik7CiAgICAgICAgICAgICAgICBjID0gYWRkVW5zaWduZWQoYywgQ0MpOwogICAgICAgICAgICAgICAgZCA9IGFkZFVuc2lnbmVkKGQsIEREKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuICh3b3JkVG9IZXgoYSkgKyB3b3JkVG9IZXgoYikgKyB3b3JkVG9IZXgoYykgKyB3b3JkVG9IZXgoZCkpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CiAgICA8c3R5bGU+CiAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SW50ZXI6d2dodEA0MDA7NTAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CgogICAgICAgIDpyb290IHsKICAgICAgICAgICAgLS1wcmltYXJ5LWdyYWRpZW50OiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMGYwYzI5IDAlLCAjMzAyYjYzIDUwJSwgIzI0MjQzZSAxMDAlKTsKICAgICAgICAgICAgLS1nbGFzcy1iZzogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg1KTsKICAgICAgICAgICAgLS1nbGFzcy1ib3JkZXI6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC42KTsKICAgICAgICAgICAgLS1nbGFzcy1zaGFkb3c6IDAgOHB4IDMycHggMCByZ2JhKDMxLCAzOCwgMTM1LCAwLjE1KTsKICAgICAgICAgICAgLS1jYXJkLWhvdmVyLXNoYWRvdzogMCAxNXB4IDM1cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgICAgICAgICAtLXRleHQtbWFpbjogIzJjM2U1MDsKICAgICAgICAgICAgLS10ZXh0LXNlY29uZGFyeTogIzU5NjI3NTsKICAgICAgICAgICAgLS1hY2NlbnQtY29sb3I6ICM1NzU4QkI7CiAgICAgICAgICAgIC0tc3VjY2Vzcy1jb2xvcjogIzAwOTQzMjsKICAgICAgICAgICAgLS1kYW5nZXItY29sb3I6ICNFQTIwMjc7CiAgICAgICAgfQoKICAgICAgICAqIHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgICAvKiBU4bqvdCBoaWdobGlnaHQgbcOgdSB4YW5oIGtoaSB0YXAgdHLDqm4gbW9iaWxlICovCiAgICAgICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgfQoKICAgICAgICBodG1sIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgfQoKICAgICAgICBib2R5IHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdJbnRlcicsICdTZWdvZSBVSScsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktZ3JhZGllbnQpOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkOwogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOwogICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47IAogICAgICAgICAgICAvKiBGaXggcGFkZGluZyBjaG8gY2jhur8gxJHhu5kgV2ViIEFwcCB0csOqbiBpUGhvbmUgdGFpIHRo4buPICovCiAgICAgICAgICAgIHBhZGRpbmctdG9wOiBlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCk7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSk7CiAgICAgICAgfQoKICAgICAgICAvKiBQUkVNSVVNIExBWU9VVCAtIDIgQ09MVU1OUyBPTiBERVNLVE9QICovCiAgICAgICAgLm1haW4tY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAzODBweCAxZnI7IC8qIERlZmF1bHQgZGVza3RvcCAqLwogICAgICAgICAgICBnYXA6IDI1cHg7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXgtd2lkdGg6IDE0NDBweDsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDsKICAgICAgICAgICAgbWluLWhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpOwogICAgICAgIH0KCiAgICAgICAgLyogR0xBU1NNT1JQSElTTSBDQVJEIFNUWUxFIEJBU0UgKi8KICAgICAgICAuZ2xhc3MtcGFuZWwgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1nbGFzcy1iZyk7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsKICAgICAgICAgICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdsYXNzLWJvcmRlcik7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLWdsYXNzLXNoYWRvdyk7CiAgICAgICAgICAgIHBhZGRpbmc6IDI1cHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICAgICAgfQoKICAgICAgICAvKiBMT0dJTiBTVEFURSAtIENPTVBBQ1QgKi8KICAgICAgICAubG9naW4tY29udGFpbmVyIHsKICAgICAgICAgICAgZ3JpZC1jb2x1bW46IDEgLyAtMTsgCiAgICAgICAgICAgIG1heC13aWR0aDogNDAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMTB2aCBhdXRvOwogICAgICAgICAgICBwYWRkaW5nOiAzMHB4OwogICAgICAgICAgICBoZWlnaHQ6IGZpdC1jb250ZW50OwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1oZWFkZXIgaDEgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjhyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA4MDA7CiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAtMXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCg0NWRlZywgIzMwMmI2MywgIzI0MjQzZSk7CiAgICAgICAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgfQoKICAgICAgICAubG9naW4taGVhZGVyIHAgewogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CgogICAgICAgIC8qIFNJREVCQVIgKExFRlQpICovCiAgICAgICAgLnNpZGViYXItY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgaGVpZ2h0OiBmaXQtY29udGVudDsKICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTsKICAgICAgICAgICAgdG9wOiAyMHB4OyAKICAgICAgICB9CgogICAgICAgIC8qIElET0wgQ09OVEFJTkVSIChSSUdIVCkgKi8KICAgICAgICAuaWRvbC1jb250YWluZXIgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDAlOyAKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICB9CgogICAgICAgIC8qIEZPUk0gRUxFTUVOVFMgKi8KICAgICAgICAuZm9ybS1ncm91cCB7IG1hcmdpbi1ib3R0b206IDIwcHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQogICAgICAgIC5mb3JtLWdyb3VwIGxhYmVsIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA2cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7CiAgICAgICAgfQoKICAgICAgICAuZm9ybS1ncm91cCBpbnB1dCB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMCwwLDAsMC4wOCk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjgpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBjdWJpYy1iZXppZXIoMC4yNSwgMC44LCAwLjI1LCAxKTsKICAgICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgfQoKICAgICAgICAuZm9ybS1ncm91cCBpbnB1dDpmb2N1cyB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDg3LCA4OCwgMTg3LCAwLjE1KTsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1idG4sIC5zZWFyY2gtYnRuIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIGJveC1zaGFkb3cgMC4yczsKICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjVweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmxvZ2luLWJ0biB7IHBhZGRpbmc6IDEycHg7IHdpZHRoOiAxMDAlOyBtYXJnaW4tdG9wOiA1cHg7IH0KICAgICAgICAKICAgICAgICAubG9naW4tYnRuOmhvdmVyIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuNCk7CiAgICAgICAgfQoKICAgICAgICAvKiBORVcgREFSSyBUUkFOU0xVQ0VOVCBCVVRUT04gU1RZTEVTIChWMTEpICovCiAgICAgICAgCiAgICAgICAgLyogU2hhcmVkIFN0eWxlcyBmb3IgQWxsIFRvb2wgQnV0dG9ucyAqLwogICAgICAgIC50b29sLWJ0biwgLnF1aWNrLWJ0biB7CiAgICAgICAgICAgIGJvcmRlci13aWR0aDogMnB4OwogICAgICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGN1YmljLWJlemllcigwLjI1LCAwLjgsIDAuMjUsIDEpOwogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgICAgICAgICBib3gtc2hhZG93OiBub25lOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAudG9vbC1idG46aG92ZXIsIC5xdWljay1idG46aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgfQoKICAgICAgICAvKiBRVUlDSyBTRUxFQ1QgQlVUVE9OUyAtIERBUksgVFJBTlNMVUNFTlQgUElMTFMgKEdSSUQgTEFZT1VUKSAqLwogICAgICAgIC5xdWljay1zZWxlY3QtZ3JvdXAgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCAxZnIpOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTVweDsKICAgICAgICB9CgogICAgICAgIC5xdWljay1idG4gewogICAgICAgICAgICBwYWRkaW5nOiA4cHggMDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MHB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuODVyZW07CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7CiAgICAgICAgfQoKICAgICAgICAvKiArIDEwMDogQ3lhbiBTdHlsZSAqLwogICAgICAgIC5idG4tY3lhbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDMwLCA0MCwgMC42KTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDBkMmQzOwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgLmJ0bi1jeWFuOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAyMTAsIDIxMSwgMC4xNSk7IAogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDAsIDIxMCwgMjExLCAwLjQpOwogICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAwIDVweCByZ2JhKDAsIDIxMCwgMjExLCAwLjUpOwogICAgICAgIH0KCiAgICAgICAgLyogKyAyMDA6IEdyZWVuIFN0eWxlICovCiAgICAgICAgLmJ0bi1ncmVlbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDMwLCA0MCwgMC42KTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMmVjYzcxOwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgLmJ0bi1ncmVlbjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoNDYsIDIwNCwgMTEzLCAwLjE1KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSg0NiwgMjA0LCAxMTMsIDAuNCk7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgNXB4IHJnYmEoNDYsIDIwNCwgMTEzLCAwLjUpOwogICAgICAgIH0KCiAgICAgICAgLyogKyAzMDA6IFB1cnBsZSBTdHlsZSAqLwogICAgICAgIC5idG4tcHVycGxlIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgzMCwgMzAsIDQwLCAwLjYpOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICM5YjU5YjY7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIH0KICAgICAgICAuYnRuLXB1cnBsZTpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTU1LCA4OSwgMTgyLCAwLjE1KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgxNTUsIDg5LCAxODIsIDAuNCk7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgNXB4IHJnYmEoMTU1LCA4OSwgMTgyLCAwLjUpOwogICAgICAgIH0KCiAgICAgICAgLyogKyAxMDAwOiBPcmFuZ2UvR29sZCBTdHlsZSAqLwogICAgICAgIC5idG4tb3JhbmdlIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgzMCwgMzAsIDQwLCAwLjYpOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICNmMWM0MGY7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIH0KICAgICAgICAuYnRuLW9yYW5nZTpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQxLCAxOTYsIDE1LCAwLjE1KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgyNDEsIDE5NiwgMTUsIDAuNCk7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgNXB4IHJnYmEoMjQxLCAxOTYsIDE1LCAwLjUpOwogICAgICAgIH0KCiAgICAgICAgLyogTUFJTiBBQ1RJT04gQlVUVE9OUyAtIERBUksgVFJBTlNMVUNFTlQgU1RZTEUgKi8KICAgICAgICAudG9vbC1idG4gewogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgfQoKICAgICAgICAvKiBCdWZmIFZpZXc6IEdyZWVuL1RlYWwgTmVvbiAqLwogICAgICAgIC5nbG93LWdyZWVuIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgzMCwgMzAsIDQwLCAwLjYpOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICMwYmU4ODE7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIH0KICAgICAgICAuZ2xvdy1ncmVlbjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTEsIDIzMiwgMTI5LCAwLjE1KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgxMSwgMjMyLCAxMjksIDAuNCk7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgNXB4IHJnYmEoMTEsIDIzMiwgMTI5LCAwLjUpOwogICAgICAgIH0KCiAgICAgICAgLyogUGjDoSBJZG9sOiBSZWQgTmVvbiAqLwogICAgICAgIC5nbG93LXJlZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDMwLCA0MCwgMC42KTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjZmYzZjM0OwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgLmdsb3ctcmVkOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDYzLCA1MiwgMC4xNSk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4IHJnYmEoMjU1LCA2MywgNTIsIDAuNCk7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgNXB4IHJnYmEoMjU1LCA2MywgNTIsIDAuNSk7CiAgICAgICAgfQoKICAgICAgICAvKiDEkMSDbmcgWHXhuqV0OiBHcmF5IE5lb24gKi8KICAgICAgICAuZ2xvdy13aGl0ZSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDMwLCA0MCwgMC42KTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjYmRjM2M3OwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgLmdsb3ctd2hpdGU6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE4OSwgMTk1LCAxOTksIDAuMTUpOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICNmZmY7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDIzNiwgMjQwLCAyNDEsIDAuNCk7CiAgICAgICAgfQoKICAgICAgICAvKiBVU0VSIFBST0ZJTEUgU1RZTEVTICovCiAgICAgICAgLnByb2ZpbGUtY2FyZC1oZWFkZXIgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkIHJnYmEoMCwwLDAsMC4xKTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CgogICAgICAgIC5hdmF0YXItZ2xvdyB7CiAgICAgICAgICAgIHdpZHRoOiA5MHB4OwogICAgICAgICAgICBoZWlnaHQ6IDkwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgYm9yZGVyOiA0cHggc29saWQgI2ZmZjsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsMCwwLDAuMik7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLnN0YXQtYmFkZ2UgewogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogNXB4IDEycHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLDAsMCwwLjE1KTsKICAgICAgICB9CgogICAgICAgIC5pbmZvLXJvdyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAwOwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjA1KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmluZm8tbGFiZWwgeyBmb250LXNpemU6IDAuOXJlbTsgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTsgZm9udC13ZWlnaHQ6IDUwMDsgfQogICAgICAgIC5pbmZvLXZhbHVlIHsgZm9udC1mYW1pbHk6ICdDb25zb2xhcycsIG1vbm9zcGFjZTsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQtbWFpbik7IH0KCiAgICAgICAgLyogSURPTCBHUklEICYgU0VBUkNIICovCiAgICAgICAgLmlkb2wtaGVhZGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4OwogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4wNSk7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsgLyogQ2hvIHBow6lwIHh14buRbmcgZMOybmcgdHLDqm4gbW9iaWxlICovCiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICB9CgogICAgICAgIC5pZG9sLWhlYWRlciBoMiB7IGZvbnQtc2l6ZTogMS41cmVtOyBmb250LXdlaWdodDogODAwOyBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsgfQogICAgICAgIAogICAgICAgIC5zZWFyY2gtd3JhcHBlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiA4cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjA1KTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjA1KTsKICAgICAgICAgICAgZmxleC1ncm93OiAxOyAvKiBU4buxIGNvIGdpw6NuIHRyw6puIG1vYmlsZSAqLwogICAgICAgIH0KCiAgICAgICAgLnNlYXJjaC1pbnB1dCB7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogMTBweCAxNXB4OwogICAgICAgICAgICBmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBtaW4td2lkdGg6IDA7IC8qIENobyBwaMOpcCBpbnB1dCB0aHUgbmjhu48gdHLDqm4gbcOgbiBow6xuaCBiw6kgKi8KICAgICAgICB9CgogICAgICAgIC5pZG9sLWdyaWQgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyMjBweCwgMWZyKSk7IC8qIERlc2t0b3AgZGVmYXVsdCAqLwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDgwdmg7CiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggNXB4OwogICAgICAgIH0KCiAgICAgICAgLmlkb2wtY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNnB4OwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMDMpOwogICAgICAgIH0KCiAgICAgICAgLmlkb2wtY2FyZDpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNXB4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxNXB4IDMwcHggcmdiYSgwLDAsMCwwLjEpOwogICAgICAgICAgICBib3JkZXItY29sb3I6IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4zKTsKICAgICAgICB9CgogICAgICAgIC5pZG9sLWNhcmQuc2VsZWN0ZWQgewogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXN1Y2Nlc3MtY29sb3IpOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tIHJpZ2h0LCAjZmZmLCAjZjBmZmY0KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDI1cHggcmdiYSgzMywgMTUwLCAyNDMsIDAuMTUpOwogICAgICAgIH0KCiAgICAgICAgLmlkb2wtY2FyZC5zZWxlY3RlZDo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAn4pyUJzsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDEwcHg7CiAgICAgICAgICAgIHJpZ2h0OiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICB3aWR0aDogMjRweDsKICAgICAgICAgICAgaGVpZ2h0OiAyNHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICB9CgogICAgICAgIC5pZG9sLWF2YXRhci1pbWcgewogICAgICAgICAgICB3aWR0aDogNzBweDsKICAgICAgICAgICAgaGVpZ2h0OiA3MHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICBib3JkZXI6IDNweCBzb2xpZCB3aGl0ZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICAgICAgfQoKICAgICAgICAuaWRvbC1uYW1lIHsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMzMzM7IG1hcmdpbi1ib3R0b206IDRweDsgZm9udC1zaXplOiAxLjA1cmVtOyB9CiAgICAgICAgLmlkb2wtZGVzYyB7IGZvbnQtc2l6ZTogMC44cmVtOyBjb2xvcjogIzg4ODsgbWFyZ2luLWJvdHRvbTogMTBweDsgbGluZS1oZWlnaHQ6IDEuNDsgaGVpZ2h0OiAyLjRlbTsgb3ZlcmZsb3c6IGhpZGRlbjt9CiAgICAgICAgCiAgICAgICAgLnN0YXR1cy1waWxsIHsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBwYWRkaW5nOiA0cHggMTJweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjdyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA4MDA7CiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgICAgfQogICAgICAgIC5zdGF0dXMtbGl2ZSB7IGJhY2tncm91bmQ6IHJnYmEoMjM0LCAzMiwgMzksIDAuMSk7IGNvbG9yOiAjRUEyMDI3OyB9CiAgICAgICAgLnN0YXR1cy1vZmZsaW5lIHsgYmFja2dyb3VuZDogI2YxZjJmNjsgY29sb3I6ICNhNGIwYmU7IH0KCiAgICAgICAgLyogQ1VTVE9NIFNDUk9MTEJBUiAqLwogICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXIgeyB3aWR0aDogOHB4OyB9CiAgICAgICAgOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4wMik7IGJvcmRlci1yYWRpdXM6IDRweDsgfQogICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgeyBiYWNrZ3JvdW5kOiByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuNSk7IGJvcmRlci1yYWRpdXM6IDRweDsgfQogICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgeyBiYWNrZ3JvdW5kOiByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuOCk7IH0KCiAgICAgICAgLyogVVRJTFMgKi8KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgCiAgICAgICAgLyogU2VsZWN0ZWQgSWRvbCBTdGlja3kgSGVhZGVyIGluIEdyaWQgKi8KICAgICAgICAuc2VsZWN0ZWQtaWRvbC1iYW5uZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjYThmZjc4IDAlLCAjNzhmZmQ2IDEwMCUpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4IDIwcHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiAjMTU1NzI0OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDE1cHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyMHB4IHJnYmEoMTIwLCAyNTUsIDIxNCwgMC4zKTsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBzbGlkZURvd24gMC40cyBjdWJpYy1iZXppZXIoMC4xNjUsIDAuODQsIDAuNDQsIDEpOwogICAgICAgIH0KCiAgICAgICAgQGtleWZyYW1lcyBzbGlkZURvd24gewogICAgICAgICAgICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTsgfQogICAgICAgICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQogICAgICAgIH0KCiAgICAgICAgLyogUmVzcG9uc2l2ZSB0ZXh0ICovCiAgICAgICAgLnRleHQtZ3JhZGllbnQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsKICAgICAgICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgICAgICBmb250LXdlaWdodDogODAwOwogICAgICAgIH0KCiAgICAgICAgLyogLS0tIE1PQklMRSBSRVNQT05TSVZFIFFVRVJJRVMgLS0tICovCiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7CiAgICAgICAgICAgIGJvZHkgewogICAgICAgICAgICAgICAgcGFkZGluZzogMTVweDsgLyogR2nhuqNtIHBhZGRpbmcgdHLDqm4gbW9iaWxlICovCiAgICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogbWF4KDE1cHgsIGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSk7IC8qIFNhZmUgYXJlYSBjaG8gdGFpIHRo4buPICovCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5tYWluLWNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAvKiBDaHV54buDbiB0aMOgbmggY+G7mXQgZOG7jWMgKi8KICAgICAgICAgICAgICAgIGdhcDogMjBweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7IC8qIFJlc2V0IHdpZHRoIGPhu6luZyAqLwogICAgICAgICAgICB9CgogICAgICAgICAgICAuc2lkZWJhci1jb250YWluZXIgewogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIELhu48gc3RpY2t5IHRyw6puIG1vYmlsZSDEkeG7gyB0aeG6v3Qga2nhu4dtIGRp4buHbiB0w61jaCAqLwogICAgICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAuaWRvbC1jb250YWluZXIgewogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5pZG9sLWdyaWQgewogICAgICAgICAgICAgICAgLyogSGnhu4NuIHRo4buLIDIgY+G7mXQgdHLDqm4gxJFp4buHbiB0aG/huqFpIGNobyDEkeG6uXAgKi8KICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDE1MHB4LCAxZnIpKTsgCiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiA1MDBweDsgLyogR2nhu5tpIGjhuqFuIGNoaeG7gXUgY2FvIHNjcm9sbCB0csOqbiBtb2JpbGUgKi8KICAgICAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLmlkb2wtY2FyZCB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuaWRvbC1oZWFkZXIgewogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuc2VhcmNoLXdyYXBwZXIgewogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5sb2dpbi1jb250YWluZXIgewogICAgICAgICAgICAgICAgbWFyZ2luOiA1dmggYXV0byAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyogR2nhuqNtIGvDrWNoIHRoxrDhu5tjIGNo4buvIHRyw6puIG1vYmlsZSAqLwogICAgICAgICAgICAuaWRvbC1oZWFkZXIgaDIgeyBmb250LXNpemU6IDEuM3JlbTsgfQogICAgICAgICAgICAubG9naW4taGVhZGVyIGgxIHsgZm9udC1zaXplOiAxLjVyZW07IH0KICAgICAgICB9CgogICAgICAgIC8qIENobyBtw6BuIGjDrG5oIGPhu7FjIG5o4buPIChpUGhvbmUgU0UsIEFuZHJvaWQgbmjhu48pICovCiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgICAgICAgICAgIC5pZG9sLWdyaWQgewogICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOyAvKiBC4bqvdCBideG7mWMgMiBj4buZdCAqLwogICAgICAgICAgICB9CiAgICAgICAgICAgIC5pZG9sLWF2YXRhci1pbWcgewogICAgICAgICAgICAgICAgd2lkdGg6IDYwcHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgPC9zdHlsZT4KPC9oZWFkPgoKPGJvZHk+CiAgICA8ZGl2IGNsYXNzPSJtYWluLWNvbnRhaW5lciI+CiAgICAgICAgPCEtLSBMT0dJTiBQQU5FTCAoT3ZlcmxheSBzdHlsZSB3aGVuIG5vdCBsb2dnZWQgaW4pIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWNvbnRhaW5lciBnbGFzcy1wYW5lbCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWhlYWRlciIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgPGgxPk1NTGl2ZSBUb29sczwvaDE+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMC45NXJlbTsiPkNow6BvIG3hu6tuZyBi4bqhbiB0cuG7nyBs4bqhaSEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgdsOgbyB0w6BpIGtob+G6o24gY+G7p2EgYuG6oW4uPC9wPiA8IS0tIENoYW5nZWQgVGV4dCAtLT4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8Zm9ybSBpZD0ibG9naW5Gb3JtIiBub3ZhbGlkYXRlPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZW1haWwiPlPhu5AgxJBJ4buGTiBUSE/huqBJPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGVsIiBpZD0iZW1haWwiIG5hbWU9ImVtYWlsIiBwbGFjZWhvbGRlcj0iMDl4eCB4eHggeHh4IiByZXF1aXJlZD4gPCEtLSBDaGFuZ2VkIFBsYWNlaG9sZGVyIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGlkPSJlbWFpbEVycm9yIiBzdHlsZT0iY29sb3I6cmVkOyBmb250LXNpemU6MC44cmVtOyBtYXJnaW4tdG9wOjVweDsgZGlzcGxheTpub25lIj5TxJBUIGtow7RuZyBo4bujcCBs4buHPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJwYXNzd29yZCI+TeG6rFQgS0jhuqhVPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJwb3NpdGlvbjogcmVsYXRpdmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkIiBwbGFjZWhvbGRlcj0iTmjhuq1wIG3huq10IGto4bqpdS4uLiIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwYXNzd29yZC10b2dnbGUiIG9uY2xpY2s9InRvZ2dsZVBhc3N3b3JkKCkiIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTsgcmlnaHQ6MTVweDsgdG9wOjEycHg7IGN1cnNvcjpwb2ludGVyOyBvcGFjaXR5OjAuNTsiPvCfkYHvuI88L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXJyb3ItbWVzc2FnZSIgaWQ9InBhc3N3b3JkRXJyb3IiIHN0eWxlPSJjb2xvcjpyZWQ7IGZvbnQtc2l6ZTowLjhyZW07IG1hcmdpbi10b3A6NXB4OyBkaXNwbGF5Om5vbmUiPk3huq10IGto4bqpdSBxdcOhIG5n4bqvbjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOiAyNXB4OyBmb250LXNpemU6IDAuOXJlbTsiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7IGN1cnNvcjogcG9pbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJyZW1lbWJlciI+IEdoaSBOaOG7myDEkMSDbmcgTmjhuq1wCiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBzdHlsZT0iY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZm9udC13ZWlnaHQ6IDYwMDsiPlF1w6puIG3huq10IGto4bqpdT88L2E+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImxvZ2luLWJ0biI+xJDEg25nIE5o4bqtcDwvYnV0dG9uPiA8IS0tIENoYW5nZWQgVGV4dCAtLT4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8IS0tIExFRlQgQ09MVU1OOiBVU0VSIElORk8gJiBUT09MUyAoQmFsYW5jZWQgSGVpZ2h0KSAtLT4KICAgICAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyLWNvbnRhaW5lciBnbGFzcy1wYW5lbCIgaWQ9InNpZGViYXJTZWN0aW9uIj4KICAgICAgICAgICAgPCEtLSBVc2VyIFByb2ZpbGUgSGVhZGVyIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJ1c2VySW5mb1NlY3Rpb24iPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZmlsZS1jYXJkLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBpZD0idXNlckF2YXRhciIgc3JjPSIiIG9uZXJyb3I9InRoaXMuc3JjPSdodHRwczovL3VpLWF2YXRhcnMuY29tL2FwaS8/bmFtZT1Vc2VyJmJhY2tncm91bmQ9cmFuZG9tJyIgYWx0PSJBdmF0YXIiIGNsYXNzPSJhdmF0YXItZ2xvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAxNXB4OyByaWdodDogMDsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsgYmFja2dyb3VuZDogIzJlZDU3MzsgYm9yZGVyOiAzcHggc29saWQgd2hpdGU7IGJvcmRlci1yYWRpdXM6IDUwJTsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMyBpZD0idXNlck5pY2tuYW1lIiBzdHlsZT0iZm9udC1zaXplOiAxLjRyZW07IG1hcmdpbjogMTBweCAwIDVweDsgZm9udC13ZWlnaHQ6IDgwMDsiPkxvYWRpbmcuLi48L2gzPgogICAgICAgICAgICAgICAgICAgIDxwIGlkPSJ1c2VyU2lnbmF0dXJlIiBzdHlsZT0iY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMC45cmVtOyBmb250LXN0eWxlOiBpdGFsaWM7Ij7EkGFuZyB04bqjaSB0aMO0bmcgdGluLi4uPC9wPgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDE1cHg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InN0YXQtYmFkZ2UiIHN0eWxlPSJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNmZjZiNmIsICNlZTUyNTMpOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDinaQgPHNwYW4gaWQ9InVzZXJGYW5zIiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDVweCI+MDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3RhdC1iYWRnZSIgc3R5bGU9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzVmMjdjZCwgIzM0MWY5Nyk7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKYhSA8c3BhbiBpZD0idXNlckZvbGxvd3MiIHN0eWxlPSJtYXJnaW4tbGVmdDogNXB4Ij4wPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tIFRlY2huaWNhbCBJbmZvIERldGFpbHMgKFVQREFURUQgVjEyOiBBZGRlZCBVRElEICYgTG9naW4gVGltZSkgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjQ4LCAyMjUsIDAuOSk7IGJvcmRlcjogMnB4IHNvbGlkICNmZmNjODA7IGJvcmRlci1yYWRpdXM6IDEycHg7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbi1ib3R0b206IDI1cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9ImZvbnQtc2l6ZTogMC44cmVtOyBjb2xvcjogI2ZmOTgwMDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbWFyZ2luLWJvdHRvbTogMTBweDsgbGV0dGVyLXNwYWNpbmc6IDFweDsgZm9udC13ZWlnaHQ6IDgwMDsiPlRIw5RORyBUSU4gVMOASSBLSE/huqJOPC9oND4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbmZvLXJvdyIgc3R5bGU9ImJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMTUyLCAwLCAwLjIpOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpbmZvLWxhYmVsIiBzdHlsZT0iY29sb3I6ICM1ZDQwMzc7Ij5Vc2VyIElEPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5mby12YWx1ZSIgaWQ9ImRpc3BsYXlVc2VySWQiIHN0eWxlPSJjb2xvcjogIzU3NThCQiI+LS0tPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8tcm93IiBzdHlsZT0iYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAxNTIsIDAsIDAuMik7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tbGFiZWwiIHN0eWxlPSJjb2xvcjogIzVkNDAzNzsiPkPhuqVwIMSR4buZPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5mby12YWx1ZSIgaWQ9InVzZXJMZXZlbCIgc3R5bGU9ImNvbG9yOiAjMDk4NGUzIj5Mdi4wPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8tcm93IiBzdHlsZT0iYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAxNTIsIDAsIDAuMik7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tbGFiZWwiIHN0eWxlPSJjb2xvcjogIzVkNDAzNzsiPlh1IHbDoG5nPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5mby12YWx1ZSIgaWQ9InVzZXJHb2xkQ29pbiIgc3R5bGU9ImNvbG9yOiAjZjFjNDBmIj4wPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8tcm93IiBzdHlsZT0iYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAxNTIsIDAsIDAuMik7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tbGFiZWwiIHN0eWxlPSJjb2xvcjogIzVkNDAzNzsiPlRow6BuaCBwaOG7kTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tdmFsdWUiIGlkPSJ1c2VyQ2l0eSIgc3R5bGU9ImNvbG9yOiAjMzMzOyI+LS0tPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8tcm93IiBzdHlsZT0iYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAxNTIsIDAsIDAuMik7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tbGFiZWwiIHN0eWxlPSJjb2xvcjogIzVkNDAzNzsiPkFuY2hvciBJRDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tdmFsdWUiIGlkPSJkaXNwbGF5QW5jaG9ySWQiIHN0eWxlPSJjb2xvcjogIzAwYjg5NCI+LS0tPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwhLS0gQWRkZWQgVURJRCBSb3cgLS0+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5mby1yb3ciIHN0eWxlPSJib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsIDE1MiwgMCwgMC4yKTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5mby1sYWJlbCIgc3R5bGU9ImNvbG9yOiAjNWQ0MDM3OyI+VURJRDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tdmFsdWUiIGlkPSJkaXNwbGF5VWRpZCIgc3R5bGU9ImNvbG9yOiAjNmM3NTdkOyBmb250LXNpemU6IDAuOHJlbTsiIHRpdGxlPSIiPi0tLTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8IS0tIEFkZGVkIExvZ2luIFRpbWUgUm93IC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8tcm93IiBzdHlsZT0iYm9yZGVyLWJvdHRvbTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5mby1sYWJlbCIgc3R5bGU9ImNvbG9yOiAjNWQ0MDM3OyI+xJDEg25nIG5o4bqtcDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8tdmFsdWUiIGlkPSJkaXNwbGF5TG9naW5UaW1lIiBzdHlsZT0iY29sb3I6ICMzMzM7IGZvbnQtc2l6ZTogMC44NXJlbTsiPi0tLTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0gVG9vbHMgU2VjdGlvbiAoVjE0IENPTVBBQ1QgR1JJRCkgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjEpOyBwYWRkaW5nLXRvcDogMjBweDsiPgogICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0iZm9udC1zaXplOiAwLjlyZW07IGZvbnQtd2VpZ2h0OiA3MDA7IG1hcmdpbi1ib3R0b206IDE1cHg7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogOHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIOKaoSBUw4FDIFbhu6QgTkhBTkgKICAgICAgICAgICAgICAgICAgICA8L2g0PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5T4buRIGzGsOG7o25nIFZpZXcvVMawxqFuZyB0w6FjPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBEZWZhdWx0IHZhbHVlIDAgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJjdXN0b21SZXF1ZXN0cyIgdmFsdWU9IjAiIG1pbj0iMCIgbWF4PSIxMDAwMCIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIE5FVzogTmVvbiBDb250cm9sbGVyIEJ1dHRvbnMgKFdoaXRlIFRleHQgKyBEYXJrIFRyYW5zbHVjZW50ICsgQ29tcGFjdCBHcmlkKSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icXVpY2stc2VsZWN0LWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJhZGRUb0N1c3RvbVZpZXcoMTAwKSIgY2xhc3M9InF1aWNrLWJ0biBidG4tY3lhbiI+KyAxMDA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJhZGRUb0N1c3RvbVZpZXcoMjAwKSIgY2xhc3M9InF1aWNrLWJ0biBidG4tZ3JlZW4iPisgMjAwPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0iYWRkVG9DdXN0b21WaWV3KDMwMCkiIGNsYXNzPSJxdWljay1idG4gYnRuLXB1cnBsZSI+KyAzMDA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJhZGRUb0N1c3RvbVZpZXcoMTAwMCkiIGNsYXNzPSJxdWljay1idG4gYnRuLW9yYW5nZSI+KyAxazwvYnV0dG9uPiA8IS0tIENoYW5nZWQgMTAwMCB0byAxayAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVXBkYXRlZCBNYWluIEJ1dHRvbnMgd2l0aCBXaGl0ZSBUZXh0IC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJ1blR1cmJvTW9kZVdpdGhJbnB1dCgpIiBjbGFzcz0idG9vbC1idG4gZ2xvdy1ncmVlbiIgc3R5bGU9InBhZGRpbmc6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfmoAgQlVGRiBWSUVXCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJ1blBoYUlkb2xNb2RlKCkiIGNsYXNzPSJ0b29sLWJ0biBnbG93LXJlZCIgc3R5bGU9InBhZGRpbmc6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfkqUgUEjDgSBJRE9MCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImxvZ291dCgpOyBsb2NhdGlvbi5yZWxvYWQoKTsiIGNsYXNzPSJ0b29sLWJ0biBnbG93LXdoaXRlIiBzdHlsZT0id2lkdGg6IDEwMCU7IG1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAg8J+aqiDEkMSCTkcgWFXhuqRUCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gUklHSFQgQ09MVU1OOiBJRE9MIFNFTEVDVElPTiAmIFJFU1VMVFMgKEJhbGFuY2VkIEhlaWdodCkgLS0+CiAgICAgICAgPGRpdiBjbGFzcz0iaWRvbC1jb250YWluZXIgZ2xhc3MtcGFuZWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgIAogICAgICAgICAgICA8IS0tIFJlc3VsdCBDb25zb2xlIChIaWRkZW4gYnkgZGVmYXVsdCkgLS0+CiAgICAgICAgICAgIDxkaXYgaWQ9InJ1blJlc3VsdHNQYW5lbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IGJhY2tncm91bmQ6ICMyZDM0MzY7IGNvbG9yOiAjZGZlNmU5OyBib3JkZXItcmFkaXVzOiAxMnB4OyBwYWRkaW5nOiAyMHB4OyBtYXJnaW4tYm90dG9tOiAyNXB4OyBib3gtc2hhZG93OiBpbnNldCAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC41KTsiPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAxNXB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzYzNmU3MjsgcGFkZGluZy1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICM4MWVjZWM7Ij7wn5OKIFRFUk1JTkFMIFNUQVRVUzwvaDQ+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9InByb2dyZXNzQ291bnQiIHN0eWxlPSJmb250LWZhbWlseTogbW9ub3NwYWNlOyBmb250LXdlaWdodDogYm9sZDsiPjAvMDwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBmb250LXNpemU6IDAuOHJlbTsgbWFyZ2luLWJvdHRvbTogNXB4OyBjb2xvcjogI2IyYmVjMzsiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0icHJvZ3Jlc3NUZXh0Ij5SZWFkeS4uLjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogIzYzNmU3MjsgaGVpZ2h0OiA2cHg7IGJvcmRlci1yYWRpdXM6IDNweDsgb3ZlcmZsb3c6IGhpZGRlbjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzc0JhciIgc3R5bGU9IndpZHRoOiAwJTsgYmFja2dyb3VuZDogIzAwYjg5NDsgaGVpZ2h0OiAxMDAlOyB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzOyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJydW5SZXN1bHRzIiBzdHlsZT0iaGVpZ2h0OiAxNTBweDsgb3ZlcmZsb3cteTogYXV0bzsgZm9udC1mYW1pbHk6ICdDb25zb2xhcycsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAwLjhyZW07IGxpbmUtaGVpZ2h0OiAxLjQ7IGNvbG9yOiAjYTRiMGJlOyI+CiAgICAgICAgICAgICAgICAgICAgPCEtLSBMb2dzIGdvIGhlcmUgLS0+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxNXB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InN0b3BSdW5uaW5nKCkiIGlkPSJzdG9wQnRuIiBjbGFzcz0idG9vbC1idG4iIHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTE3MDU1OyBwYWRkaW5nOiA4cHggMTVweDsgZm9udC1zaXplOiAwLjhyZW07IHdpZHRoOiBhdXRvOyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsiPuKPuSBTVE9QPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjbGVhclJlc3VsdHMoKSIgY2xhc3M9InRvb2wtYnRuIiBzdHlsZT0iYmFja2dyb3VuZDogIzYzNmU3MjsgcGFkZGluZzogOHB4IDE1cHg7IGZvbnQtc2l6ZTogMC44cmVtOyB3aWR0aDogYXV0bzsgY29sb3I6IHdoaXRlOyBib3JkZXI6IG5vbmU7Ij7wn5eRIENMRUFSPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8IS0tIFNlbGVjdGVkIElkb2wgQWN0aXZlIEJhbm5lciAtLT4KICAgICAgICAgICAgPGRpdiBpZD0ic2VsZWN0ZWRJZG9sSW5mbyIgY2xhc3M9InNlbGVjdGVkLWlkb2wtYmFubmVyIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNlbGVjdGVkSWRvbERldGFpbHMiIHN0eWxlPSJmbGV4LWdyb3c6IDE7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsiPgogICAgICAgICAgICAgICAgICAgIDwhLS0gSlMgZmlsbHMgdGhpcyAtLT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwhLS0gSGVhZGVyICYgU2VhcmNoIC0tPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpZG9sLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMj5EQU5IIFPDgUNIIElET0w8L2gyPgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzg4ODsgZm9udC1zaXplOiAwLjlyZW07IiBpZD0ic2VhcmNoUmVzdWx0c0NvdW50Ij7EkGFuZyB04bqjaSBk4buvIGxp4buHdS4uLjwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VhcmNoLXdyYXBwZXIiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iaWRvbFNlYXJjaElucHV0IiBwbGFjZWhvbGRlcj0iVMOsbSB0w6puIGhv4bq3YyBJRC4uLiIgY2xhc3M9InNlYXJjaC1pbnB1dCI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzZWFyY2hJZG9scygpIiBjbGFzcz0ic2VhcmNoLWJ0biIgc3R5bGU9InBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7Ij7wn5SNPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjbGVhclNlYXJjaCgpIiBjbGFzcz0ic2VhcmNoLWJ0biIgc3R5bGU9InBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IG1hcmdpbi1sZWZ0OiA1cHg7IGJhY2tncm91bmQ6ICNiMmJlYzM7Ij7inJU8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwhLS0gSWRvbCBHcmlkIC0tPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpZG9sLWdyaWQiIGlkPSJpZG9sR3JpZCI+CiAgICAgICAgICAgICAgICA8IS0tIENhcmRzIGluamVjdGVkIHZpYSBKUyAtLT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIEpBVkFTQ1JJUFQgTE9HSUMgR0nhu64gTkdVWcOKTiAxMDAlIC0tPgogICAgPHNjcmlwdD4KICAgICAgICAvLyBORVcgRlVOQ1RJT046IEPhu5hORyBE4buSTiBT4buQIEzGr+G7ok5HIFZJRVcgKEFERElUSVZFKQogICAgICAgIGZ1bmN0aW9uIGFkZFRvQ3VzdG9tVmlldyhhbW91bnQpIHsKICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tUmVxdWVzdHMnKTsKICAgICAgICAgICAgaWYoaW5wdXQpIHsKICAgICAgICAgICAgICAgIC8vIEzhuqV5IGdpw6EgdHLhu4sgaGnhu4duIHThuqFpLCBu4bq/dSBy4buXbmcgaG/hurdjIE5hTiB0aMOsIGNvaSBsw6AgMAogICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRWYWwgPSBwYXJzZUludChpbnB1dC52YWx1ZSkgfHwgMDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ+G7mW5nIHRow6ptIGzGsOG7o25nIG3hu5tpCiAgICAgICAgICAgICAgICBsZXQgbmV3VmFsID0gY3VycmVudFZhbCArIGFtb3VudDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gR2nhu5tpIGjhuqFuIG1heCAxMDAwMCAoaG/hurdjIGPDsyB0aOG7gyBi4buPIG7hur91IG114buRbikKICAgICAgICAgICAgICAgIGlmIChuZXdWYWwgPiAxMDAwMCkgbmV3VmFsID0gMTAwMDA7IAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IG5ld1ZhbDsKCiAgICAgICAgICAgICAgICAvLyBIaeG7h3Ug4bupbmcgVmlzdWFsIEZlZWRiYWNrIGtoaSBi4bqlbQogICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMC4xcyc7CiAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMS4xKSc7CiAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5jb2xvciA9ICcjZmZmJzsgLy8gRmxhc2ggd2hpdGUgdGV4dAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknOwogICAgICAgICAgICAgICAgICAgIGlucHV0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLWFjY2VudC1jb2xvciknOyAvLyBSZXZlcnQgY29sb3IKICAgICAgICAgICAgICAgIH0sIDE1MCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIExJU1RfSURPTCDEkcOjIMSRxrDhu6NjIHjDs2EgLSBjaOG7iSBz4butIGThu6VuZyBBUEkgZGF0YQoKICAgICAgICAvLyA9PT09PSBHTE9CQUwgQ09ORklHVVJBVElPTiBWQVJJQUJMRVMgPT09PT0KICAgICAgICBjb25zdCBHTE9CQUxfQ09ORklHID0gewogICAgICAgICAgICBsaXZlSWQ6IDEwMjcyOTUsICAgICAgICAvLyBMaXZlIHN0cmVhbSBJRCAoc+G6vSDEkcaw4bujYyBj4bqtcCBuaOG6rXQga2hpIGNo4buNbiBpZG9sKQogICAgICAgICAgICBhbmNob3JJZDogMjAyNjkyMjk0MyAgICAvLyBBbmNob3IvU3RyZWFtZXIgSUQgKHPhur0gxJHGsOG7o2MgY+G6rXAgbmjhuq10IGtoaSBjaOG7jW4gaWRvbCkKICAgICAgICB9OwoKICAgICAgICBsZXQgc2VsZWN0ZWRJZG9sID0gbnVsbDsKCiAgICAgICAgLy8gPT09PT0gSURPTCBTRUxFQ1RJT04gRlVOQ1RJT05TID09PT09CgogICAgICAgIC8vIFJlbmRlciBkYW5oIHPDoWNoIGlkb2wgdOG7qyBBUEkKICAgICAgICBmdW5jdGlvbiByZW5kZXJJZG9sTGlzdCgpIHsKICAgICAgICAgICAgY29uc3QgaWRvbEdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRvbEdyaWQnKTsKICAgICAgICAgICAgaWYgKCFpZG9sR3JpZCkgcmV0dXJuOwoKICAgICAgICAgICAgLy8gTuG6v3UgY8OzIGRhdGEgdOG7qyBBUEksIHPhu60gZOG7pW5nIHJlbmRlckFwaUlkb2xMaXN0CiAgICAgICAgICAgIGlmIChhcGlJZG9sc0RhdGEgJiYgYXBpSWRvbHNEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFJlbmRlcmluZyBBUEkgaWRvbCBsaXN0Jyk7CiAgICAgICAgICAgICAgICByZW5kZXJBcGlJZG9sTGlzdChhcGlJZG9sc0RhdGEpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBO4bq/dSBjaMawYSBjw7MgZGF0YSB04burIEFQSSwgaGnhu4NuIHRo4buLIHBsYWNlaG9sZGVyCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7MgV2FpdGluZyBmb3IgQVBJIGlkb2wgZGF0YS4uLicpOwogICAgICAgICAgICBpZG9sR3JpZC5pbm5lckhUTUwgPSAnPHAgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICM2NjY7IGdyaWQtY29sdW1uOiAxIC8gLTE7IHBhZGRpbmc6IDQwcHg7Ij7EkGFuZyB04bqjaSBkYW5oIHPDoWNoIGlkb2wuLi48YnI+PHNtYWxsPlZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIMSR4buDIHhlbSBkYW5oIHPDoWNoIGlkb2w8L3NtYWxsPjwvcD4nOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2jhu41uIGlkb2wKICAgICAgICBmdW5jdGlvbiBzZWxlY3RJZG9sKGlkb2wpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gc2VsZWN0SWRvbCBjYWxsZWQgd2l0aDonLCBpZG9sKTsKICAgICAgICAgICAgc2VsZWN0ZWRJZG9sID0gaWRvbDsKCiAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCBHTE9CQUxfQ09ORklHCiAgICAgICAgICAgIEdMT0JBTF9DT05GSUcubGl2ZUlkID0gaWRvbC5saXZlSWQ7CiAgICAgICAgICAgIEdMT0JBTF9DT05GSUcuYW5jaG9ySWQgPSBpZG9sLmFuY2hvcklkOwoKICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gVXBkYXRlZCBzZWxlY3RlZElkb2w6Jywgc2VsZWN0ZWRJZG9sKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gVXBkYXRlZCBHTE9CQUxfQ09ORklHOicsIEdMT0JBTF9DT05GSUcpOwoKICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IFVJCiAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkSWRvbEluZm8oaWRvbCk7CiAgICAgICAgICAgIHVwZGF0ZUlkb2xDYXJkU2VsZWN0aW9uKCk7CiAgICAgICAgICAgIHVwZGF0ZVRvb2xTZWN0aW9uRGlzcGxheShpZG9sKTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgxJDDoyBjaOG7jW4gaWRvbDogJHtpZG9sLm5pY2tuYW1lfSAoTGl2ZSBJRDogJHtpZG9sLmxpdmVJZH0sIEFuY2hvciBJRDogJHtpZG9sLmFuY2hvcklkfSlgKTsKICAgICAgICB9CgogICAgICAgIC8vIEPhuq1wIG5o4bqtdCBoaeG7g24gdGjhu4sgdHJvbmcgdG9vbCBzZWN0aW9uCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlVG9vbFNlY3Rpb25EaXNwbGF5KGlkb2wpIHsKICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IEFuY2hvciBJRCBkaXNwbGF5CiAgICAgICAgICAgIGNvbnN0IGFuY2hvcklkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QW5jaG9ySWQnKTsKICAgICAgICAgICAgaWYgKGFuY2hvcklkRWxlbWVudCkgewogICAgICAgICAgICAgICAgYW5jaG9ySWRFbGVtZW50LnRleHRDb250ZW50ID0gaWRvbC5hbmNob3JJZDsKICAgICAgICAgICAgICAgIGFuY2hvcklkRWxlbWVudC5zdHlsZS5jb2xvciA9ICcjMjhhNzQ1JzsKICAgICAgICAgICAgICAgIGFuY2hvcklkRWxlbWVudC50aXRsZSA9IGBBbmNob3IgSUQgdOG7qyAke2lkb2wubmlja25hbWV9YDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gTuG6v3UgY8OzIHRow6ptIHRow7RuZyB0aW4gbGl2ZSBJRCBj4bqnbiBoaeG7g24gdGjhu4ssIGPDsyB0aOG7gyB0aMOqbSDhu58gxJHDonkKICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQgxJDDoyBj4bqtcCBuaOG6rXQgVG9vbCBTZWN0aW9uIHbhu5tpIHRow7RuZyB0aW4gdOG7qyAke2lkb2wubmlja25hbWV9YCk7CiAgICAgICAgfQoKICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdGjDtG5nIHRpbiBpZG9sIMSRxrDhu6NjIGNo4buNbgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkSWRvbEluZm8oaWRvbCkgewogICAgICAgICAgICBjb25zdCBzZWxlY3RlZEluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0ZWRJZG9sSW5mbycpOwogICAgICAgICAgICBjb25zdCBzZWxlY3RlZERldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0ZWRJZG9sRGV0YWlscycpOwoKICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5mbyAmJiBzZWxlY3RlZERldGFpbHMpIHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkRGV0YWlscy5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke2lkb2wuYXZhdGFyfSIgYWx0PSIke2lkb2wubmlja25hbWV9IiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0id2lkdGg6IDUwcHg7IGhlaWdodDogNTBweDsgYm9yZGVyLXJhZGl1czogNTAlOyBvYmplY3QtZml0OiBjb3ZlcjsgYm9yZGVyOiAycHggc29saWQgI2ZmZjsgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwwLDAsMC4xKTsiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcj0idGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDogODAwOyBmb250LXNpemU6IDEuMXJlbTsiPiR7aWRvbC5uaWNrbmFtZSB8fCAnVW5rbm93bid9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDAuODVyZW07IG9wYWNpdHk6IDAuODsiPkxpdmUgSUQ6ICR7aWRvbC5saXZlSWR9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4zKTsgcGFkZGluZzogNXB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsiPgogICAgICAgICAgICAgICAgICAgICAgICBBTkNIT1I6ICR7aWRvbC5hbmNob3JJZCB8fCAnTi9BJ30KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBzZWxlY3RlZEluZm8uc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgc2VsZWN0ZWQgY+G7p2EgY8OhYyBpZG9sIGNhcmQKICAgICAgICBmdW5jdGlvbiB1cGRhdGVJZG9sQ2FyZFNlbGVjdGlvbigpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgdXBkYXRlSWRvbENhcmRTZWxlY3Rpb24gY2FsbGVkLCBzZWxlY3RlZElkb2w6Jywgc2VsZWN0ZWRJZG9sKTsKICAgICAgICAgICAgY29uc3QgaWRvbENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlkb2wtY2FyZCcpOwoKICAgICAgICAgICAgLy8gWMOzYSB04bqldCBj4bqjIHNlbGVjdGlvbiB0csaw4bubYwogICAgICAgICAgICBpZG9sQ2FyZHMuZm9yRWFjaChjYXJkID0+IGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7CgogICAgICAgICAgICAvLyBUaMOqbSBzZWxlY3Rpb24gY2hvIGNhcmQgxJHDum5nCiAgICAgICAgICAgIGlmIChzZWxlY3RlZElkb2wpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIHNlbGVjdGVkSWRvbC5pZCB0eXBlOicsIHR5cGVvZiBzZWxlY3RlZElkb2wuaWQsICd2YWx1ZTonLCBzZWxlY3RlZElkb2wuaWQpOwogICAgICAgICAgICAgICAgaWRvbENhcmRzLmZvckVhY2goKGNhcmQsIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZElkb2xJZCA9IGNhcmQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkb2wtaWQnKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSBDYXJkICR7aW5kZXh9IGRhdGEtaWRvbC1pZCB0eXBlOmAsIHR5cGVvZiBjYXJkSWRvbElkLCAndmFsdWU6JywgY2FyZElkb2xJZCk7CgogICAgICAgICAgICAgICAgICAgIC8vIFNvIHPDoW5oIGPhuqMgPT0gdsOgID09PSDEkeG7gyB0ZXN0CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hMb29zZSA9IGNhcmRJZG9sSWQgPT0gc2VsZWN0ZWRJZG9sLmlkOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU3RyaWN0ID0gY2FyZElkb2xJZCA9PT0gU3RyaW5nKHNlbGVjdGVkSWRvbC5pZCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IG1hdGNoTG9vc2UgfHwgbWF0Y2hTdHJpY3Q7CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIENhcmQgJHtpbmRleH06IGNhcmRJZD0ke2NhcmRJZG9sSWR9LCBzZWxlY3RlZElkPSR7c2VsZWN0ZWRJZG9sLmlkfSwgbG9vc2U9JHttYXRjaExvb3NlfSwgc3RyaWN0PSR7bWF0Y2hTdHJpY3R9LCBmaW5hbD0ke2lzU2VsZWN0ZWR9YCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBBZGRlZCAnc2VsZWN0ZWQnIGNsYXNzIHRvIGNhcmQgJHtpbmRleH1gKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gSMOgbSB04bqhbyBHVUlECiAgICAgICAgZnVuY3Rpb24gZ2V0R3VpZCgpIHsKICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwMDAwMDAwMDAwKTsKICAgICAgICAgICAgY29uc3QgZGV2aWNlSW5mbyA9ICJZb3VyRGV2aWNlSW5mb0hlcmUiOwogICAgICAgICAgICBjb25zdCBjb21iaW5lZERhdGEgPSBgJHt0aW1lc3RhbXB9JHtyYW5kb219JHtkZXZpY2VJbmZvfWA7CiAgICAgICAgICAgIGNvbnN0IGRldmljZUlEID0gbWQ1KGNvbWJpbmVkRGF0YSkuc3Vic3RyKDAsIDMyKTsKICAgICAgICAgICAgcmV0dXJuIGRldmljZUlEOwogICAgICAgIH0KCiAgICAgICAgLy8gSMOgbSDEkcSDbmcgbmjhuq1wIEFQSQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvZ2luQVBJKG1vYmlsZSwgcGFzc3dvcmQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJz09PSBMb2dpbkFQSSBTdGFydGVkID09PScpOwoKICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgIGNvbnN0IHVpZCA9IGdldEd1aWQoKTsgLy8gU+G7rSBk4bulbmcgR1VJRCBsw6BtIHVpZAoKICAgICAgICAgICAgY29uc29sZS5sb2coJ0dlbmVyYXRlZCBVSUQ6JywgdWlkKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1RpbWVzdGFtcDonLCB0aW1lc3RhbXApOwoKICAgICAgICAgICAgLy8gVOG6oW8gc2lnbiB0aGVvIGZvcm1hdCBj4bunYSBBUEkKICAgICAgICAgICAgY29uc3Qgc2lnbiA9IG1kNShgJHt1aWR9amd5aCxrYXNkJHt0aW1lc3RhbXB9YCk7CiAgICAgICAgICAgIGNvbnN0IHhTaWduID0gbWQ1KGAke3VpZH1qZ3loLGthc2Qke3RpbWVzdGFtcH1gKTsgLy8gU+G7rSBk4bulbmcgY8O5bmcgZm9ybWF0IHbhu5tpIHNpZ24KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHZW5lcmF0ZWQgc2lnbnM6JywgeyBzaWduLCB4U2lnbiB9KTsKCiAgICAgICAgICAgIGNvbnN0IGxvZ2luUGFyYW1zID0gewogICAgICAgICAgICAgICAgb3M6IDAsCiAgICAgICAgICAgICAgICBzaWduOiBzaWduLAogICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsCiAgICAgICAgICAgICAgICB1ZGlkOiB1aWQsCiAgICAgICAgICAgICAgICBtb2RlbDogIlBDIiwKICAgICAgICAgICAgICAgIG1vYmlsZTogbW9iaWxlLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICAgICAgICAgICAgdmVyc2lvbjogIjEuMC4yIiwKICAgICAgICAgICAgICAgIHNvZnRWZXJzaW9uOiAiMS4wLjAiCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zb2xlLmxvZygnTG9naW4gUGFyYW1ldGVyczonLCBsb2dpblBhcmFtcyk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9nYXRld2F5Lm1tbGl2ZS5vbmxpbmUvY2VudGVyLWNsaWVudC9zeXMvYXV0aC9uZXcvcGhvbmUvbG9naW4nLCB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnVkknLAogICAgICAgICAgICAgICAgICAgICAgICAnYXBwaWQnOiAnTU1MaXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLAogICAgICAgICAgICAgICAgICAgICAgICAnbi1sJzogJ1knLAogICAgICAgICAgICAgICAgICAgICAgICAnb3JpZ2luJzogJ2h0dHBzOi8vbW1saXZlLm9ubGluZScsCiAgICAgICAgICAgICAgICAgICAgICAgICdvcyc6ICcwJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3AtZyc6ICdOJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlZmVyZXInOiAnaHR0cHM6Ly9tbWxpdmUub25saW5lLycsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEnOiAnIkdvb2dsZSBDaHJvbWUiO3Y9IjE0MSIsICJOb3Q/QV9CcmFuZCI7dj0iOCIsICJDaHJvbWl1bSI7dj0iMTQxIicsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICcibWFjT1MiJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1zaXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzE0MS4wLjAuMCBTYWZhcmkvNTM3LjM2JywKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtYXBwdmVyc2lvbic6ICcyLjUuMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICd4LWxhbmd1YWdlJzogJ1ZJJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtc2lnbic6IHhTaWduLAogICAgICAgICAgICAgICAgICAgICAgICAneC10aW1lc3RhbXAnOiB0aW1lc3RhbXAudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtdWRpZCc6IHVpZAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobG9naW5QYXJhbXMpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0OwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSlNPTiBQYXJzZSBFcnJvcjonLCBwYXJzZUVycm9yKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdTZXJ2ZXIgdHLhuqMgduG7gSBk4buvIGxp4buHdSBraMO0bmcgaOG7o3AgbOG7hycgfTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQVBJIFJlc3BvbnNlOicsIHJlc3VsdCk7CgogICAgICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSBj4bqldSB0csO6YyByZXNwb25zZQogICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQgfHwgdHlwZW9mIHJlc3VsdCAhPT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdSZXNwb25zZSBraMO0bmcgaOG7o3AgbOG7hycgfTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uub2spOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc3VsdCBjb2RlOicsIHJlc3VsdC5jb2RlKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2sgJiYgcmVzdWx0LmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIExvZ2luIHN1Y2Nlc3NmdWw6JywgcmVzdWx0KTsKCiAgICAgICAgICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSBkYXRhIGPDsyB04buTbiB04bqhaSBraMO0bmcKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5kYXRhIHx8ICFyZXN1bHQuZGF0YS50b2tlbikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIE5vIHRva2VuIGluIHJlc3BvbnNlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0tow7RuZyBuaOG6rW4gxJHGsOG7o2MgdG9rZW4gdOG7qyBzZXJ2ZXInIH07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBTYXZpbmcgbG9naW4gZGF0YSB0byBsb2NhbFN0b3JhZ2UnKTsKICAgICAgICAgICAgICAgICAgICAvLyBMxrB1IHRow7RuZyB0aW4gxJHEg25nIG5o4bqtcCB2w6BvIGxvY2FsU3RvcmFnZQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoVG9rZW4nLCByZXN1bHQuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JhbmRvbUtleScsIHJlc3VsdC5kYXRhLnJhbmRvbUtleSB8fCAnJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JhbmRvbVZlY3RvcicsIHJlc3VsdC5kYXRhLnJhbmRvbVZlY3RvciB8fCAnJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvZ2luVGltZScsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VkaWQnLCB1aWQpOyAvLyBMxrB1IHVkaWQgxJHhu4Mgc+G7rSBk4bulbmcgc2F1CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NSZXN1bHQgPSB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC5kYXRhLCBtZXNzYWdlOiByZXN1bHQubXNnIHx8ICfEkMSDbmcgbmjhuq1wIHRow6BuaCBjw7RuZycgfTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBSZXR1cm5pbmcgc3VjY2VzcyByZXN1bHQ6Jywgc3VjY2Vzc1Jlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBMb2dpbiBmYWlsZWQ6JywgcmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IHJlc3VsdC5tc2cgfHwgcmVzdWx0Lm1lc3NhZ2UgfHwgYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclJlc3VsdCA9IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1zZyB9OwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KlIFJldHVybmluZyBlcnJvciByZXN1bHQ6JywgZXJyb3JSZXN1bHQpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggTmV0d29yay9QYXJzZSBlcnJvcjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBuYW1lOicsIGVycm9yLm5hbWUpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbWVzc2FnZTonLCBlcnJvci5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAvLyBY4butIGzDvSBjw6FjIGxv4bqhaSBs4buXaSBraMOhYyBuaGF1CiAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0zhu5dpIGvhur90IG7hu5FpIG3huqFuZyc7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1R5cGVFcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnTOG7l2kga+G6v3QgbuG7kWkgLSBLaeG7g20gdHJhIGludGVybmV0JzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ1N5bnRheEVycm9yJykgewogICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdTZXJ2ZXIgdHLhuqMgduG7gSBk4buvIGxp4buHdSBraMO0bmcgaOG7o3AgbOG7hyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGNhdGNoUmVzdWx0ID0geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yTWVzc2FnZSB9OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUmV0dXJuaW5nIGNhdGNoIHJlc3VsdDonLCBjYXRjaFJlc3VsdCk7CiAgICAgICAgICAgICAgICByZXR1cm4gY2F0Y2hSZXN1bHQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHJldHVybiAoa2jDtG5nIGJhbyBnaeG7nSBuw6puIMSR4bq/biDEkcOieSkKICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBSZWFjaGVkIGZhbGxiYWNrIHJldHVybiAtIHRoaXMgc2hvdWxkIG5vdCBoYXBwZW4nKTsKICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTOG7l2kga2jDtG5nIHjDoWMgxJHhu4tuaCcgfTsKICAgICAgICB9CgogICAgICAgIC8vIEjDoG0ga2nhu4NtIHRyYSB0cuG6oW5nIHRow6FpIMSRxINuZyBuaOG6rXAKICAgICAgICBmdW5jdGlvbiBpc0xvZ2dlZEluKCkgewogICAgICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoVG9rZW4nKTsKICAgICAgICAgICAgcmV0dXJuIHRva2VuICYmIHRva2VuLmxlbmd0aCA+IDA7CiAgICAgICAgfQoKICAgICAgICAvLyBIw6BtIGzhuqV5IHRow7RuZyB0aW4gxJHEg25nIG5o4bqtcCDEkcOjIGzGsHUKICAgICAgICBmdW5jdGlvbiBnZXRMb2dpbkluZm8oKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhUb2tlbicpLAogICAgICAgICAgICAgICAgcmFuZG9tS2V5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmFuZG9tS2V5JyksCiAgICAgICAgICAgICAgICByYW5kb21WZWN0b3I6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyYW5kb21WZWN0b3InKSwKICAgICAgICAgICAgICAgIGxvZ2luVGltZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2luVGltZScpCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICAvLyBIw6BtIMSRxINuZyB4deG6pXQgKHjDs2EgdGjDtG5nIHRpbiDEkcOjIGzGsHUpCiAgICAgICAgZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aFRva2VuJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyYW5kb21LZXknKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JhbmRvbVZlY3RvcicpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9naW5UaW1lJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1ZGlkJyk7CiAgICAgICAgICAgIC8vIFJlbW92ZSByZW1lbWJlcmVkIGNyZWRlbnRpYWxzIG9uIGV4cGxpY2l0IGxvZ291dCBpZiBkZXNpcmVkLCAKICAgICAgICAgICAgLy8gYnV0IHVzdWFsbHkgIlJlbWVtYmVyIE1lIiBwZXJzaXN0cyB1bnRpbCB1bmNoZWNrZWQuCiAgICAgICAgICAgIC8vIFVuY29tbWVudCBiZWxvdyBsaW5lcyBpZiBsb2dvdXQgc2hvdWxkIGNsZWFyIHJlbWVtYmVyZWQgZGF0YToKICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3NhdmVkTW9iaWxlJyk7CiAgICAgICAgICAgIC8vIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYXZlZFBhc3N3b3JkJyk7CiAgICAgICAgICAgIC8vIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpc1JlbWVtYmVyZWQnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfEkMOjIMSRxINuZyB4deG6pXQgdsOgIHjDs2EgdOG6pXQgY+G6oyB0aMO0bmcgdGluIMSRxINuZyBuaOG6rXAnKTsKICAgICAgICB9CgogICAgICAgIC8vIEjDoG0gZGVjb2RlIEpXVCB0b2tlbiDEkeG7gyBs4bqleSB0aMO0bmcgdGluCiAgICAgICAgZnVuY3Rpb24gZ2V0VG9rZW5EYXRhKCkgewogICAgICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoVG9rZW4nKTsKICAgICAgICAgICAgaWYgKCF0b2tlbikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHRva2VuIGZvdW5kJyk7CiAgICAgICAgICAgICAgICByZXR1cm4geyB1c2VySWQ6IG51bGwsIHVkaWQ6IG51bGwgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vIEpXVCB0b2tlbiBjw7MgMyBwaOG6p24gxJHGsOG7o2MgcGjDom4gdMOhY2ggYuG7n2kgZOG6pXUgY2jhuqVtOiBoZWFkZXIucGF5bG9hZC5zaWduYXR1cmUKICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTsKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDMpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBKV1QgdG9rZW4gZm9ybWF0IC0gZXhwZWN0aW5nIDMgcGFydHMsIGdvdDonLCBwYXJ0cy5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVzZXJJZDogbnVsbCwgdWRpZDogbnVsbCB9OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIERlY29kZSBwaOG6p24gcGF5bG9hZCAocGjhuqduIHRo4bupIDIpIC0gSldUIHPhu60gZOG7pW5nIGJhc2U2NHVybCBlbmNvZGluZwogICAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAvLyBDaHV54buDbiBiYXNlNjR1cmwgdGjDoG5oIGJhc2U2NCB0aMO0bmcgdGjGsOG7nW5nCiAgICAgICAgICAgICAgICBwYXlsb2FkID0gcGF5bG9hZC5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpOwoKICAgICAgICAgICAgICAgIC8vIFRow6ptIHBhZGRpbmcgbuG6v3UgY+G6p24gdGhp4bq/dCBjaG8gYmFzZTY0IGRlY29kZQogICAgICAgICAgICAgICAgd2hpbGUgKHBheWxvYWQubGVuZ3RoICUgNCkgewogICAgICAgICAgICAgICAgICAgIHBheWxvYWQgKz0gJz0nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgcGF5bG9hZCBwYXJ0OicsIHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCYXNlNjQgcGF5bG9hZCBhZnRlciBjb252ZXJzaW9uOicsIHBheWxvYWQpOwoKICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWRQYXlsb2FkID0gYXRvYihwYXlsb2FkKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZWNvZGVkIHBheWxvYWQgc3RyaW5nOicsIGRlY29kZWRQYXlsb2FkKTsKCiAgICAgICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IEpTT04ucGFyc2UoZGVjb2RlZFBheWxvYWQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BhcnNlZCBKV1QgcGF5bG9hZDonLCB1c2VyRGF0YSk7CgogICAgICAgICAgICAgICAgLy8gVGjhu60gY8OhYyBmaWVsZCBwaOG7lSBiaeG6v24gY2hvIHVzZXJJZAogICAgICAgICAgICAgICAgY29uc3QgdXNlcklkID0gdXNlckRhdGEudXNlcklkIHx8IHVzZXJEYXRhLmlkIHx8IHVzZXJEYXRhLnN1YiB8fCB1c2VyRGF0YS51c2VyX2lkIHx8IHVzZXJEYXRhLnVpZDsKCiAgICAgICAgICAgICAgICAvLyBUaOG7rSBjw6FjIGZpZWxkIHBo4buVIGJp4bq/biBjaG8gdWRpZAogICAgICAgICAgICAgICAgY29uc3QgdWRpZCA9IHVzZXJEYXRhLnVkaWQgfHwgdXNlckRhdGEuZGV2aWNlSWQgfHwgdXNlckRhdGEuZGV2aWNlX2lkIHx8IHVzZXJEYXRhLnV1aWQ7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0V4dHJhY3RlZCB1c2VySWQ6JywgdXNlcklkKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFeHRyYWN0ZWQgdWRpZDonLCB1ZGlkKTsKCiAgICAgICAgICAgICAgICByZXR1cm4geyB1c2VySWQsIHVkaWQgfTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlY29kaW5nIEpXVCB0b2tlbjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUb2tlbiBwYXJ0czonLCB0b2tlbi5zcGxpdCgnLicpLmxlbmd0aCk7CgogICAgICAgICAgICAgICAgLy8gTG9nIHRow6ptIHRow7RuZyB0aW4gZGVidWcKICAgICAgICAgICAgICAgIGlmICh0b2tlbi5zcGxpdCgnLicpLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BheWxvYWQgcGFydDonLCB0b2tlbi5zcGxpdCgnLicpWzFdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4geyB1c2VySWQ6IG51bGwsIHVkaWQ6IG51bGwgfTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gSMOgbSBkZWNvZGUgSldUIHRva2VuIMSR4buDIGzhuqV5IHVzZXJJZCAoYmFja3dhcmQgY29tcGF0aWJpbGl0eSkKICAgICAgICBmdW5jdGlvbiBnZXRVc2VySWRGcm9tVG9rZW4oKSB7CiAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbkRhdGEoKS51c2VySWQ7CiAgICAgICAgfQoKICAgICAgICAvLyBIw6BtIGRlY29kZSBKV1QgdG9rZW4gxJHhu4MgbOG6pXkgdWRpZAogICAgICAgIGZ1bmN0aW9uIGdldFVkaWRGcm9tVG9rZW4oKSB7CiAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbkRhdGEoKS51ZGlkOwogICAgICAgIH0KCiAgICAgICAgLy8gSMOgbSBn4buNaSBBUEkgxJHhu4MgbOG6pXkgdGjDtG5nIHRpbiB1c2VyIGNoaSB0aeG6v3QKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZXRVc2VySW5mbygpIHsKICAgICAgICAgICAgY29uc3QgbG9naW5JbmZvID0gZ2V0TG9naW5JbmZvKCk7CiAgICAgICAgICAgIGlmICghbG9naW5JbmZvLnRva2VuKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyB0b2tlbiBmb3VuZCBmb3IgZ2V0VXNlckluZm8nKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBnZXRUb2tlbkRhdGEoKTsKICAgICAgICAgICAgY29uc3QgdWRpZCA9IHRva2VuRGF0YS51ZGlkIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1ZGlkJykgfHwgZ2V0R3VpZCgpOwogICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgY29uc3QgeFNpZ24gPSBtZDUoYCR7dWRpZH1qZ3loLGthc2Qke3RpbWVzdGFtcH1gKQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZldGNoaW5nIHVzZXIgaW5mby4uLicpOwogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9nYXRld2F5Lm1tbGl2ZS5vbmxpbmUvY2VudGVyLWNsaWVudC9zeXMvdXNlci9nZXQvaW5mbycsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdWSScsCiAgICAgICAgICAgICAgICAgICAgICAgICdhcHBpZCc6ICdNTUxpdmUnLAogICAgICAgICAgICAgICAgICAgICAgICAnYXV0aG9yaXphdGlvbic6IGBIU0JveCAke2xvZ2luSW5mby50b2tlbn1gLAogICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgICAgICduLWwnOiAnWScsCiAgICAgICAgICAgICAgICAgICAgICAgICdvcmlnaW4nOiAnaHR0cHM6Ly9tbWxpdmUub25saW5lJywKICAgICAgICAgICAgICAgICAgICAgICAgJ29zJzogJzAnLAogICAgICAgICAgICAgICAgICAgICAgICAncC1nJzogJ04nLAogICAgICAgICAgICAgICAgICAgICAgICAncmVmZXJlcic6ICdodHRwczovL21tbGl2ZS5vbmxpbmUvJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YSc6ICciR29vZ2xlIENocm9tZSI7dj0iMTQxIiwgIk5vdD9BX0JyYW5kIjt2PSI4IiwgIkNocm9taXVtIjt2PSIxNDEiJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJtYWNPUyInLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLXNpdGUnLAogICAgICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTQxLjAuMC4wIFNhZmFyaS81MzcuMzYnLAogICAgICAgICAgICAgICAgICAgICAgICAneC1hcHB2ZXJzaW9uJzogJzIuNS4wJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtbGFuZ3VhZ2UnOiAnVkknLAogICAgICAgICAgICAgICAgICAgICAgICAneC1zaWduJzogeFNpZ24sCiAgICAgICAgICAgICAgICAgICAgICAgICd4LXRpbWVzdGFtcCc6IHRpbWVzdGFtcC50b1N0cmluZygpLAogICAgICAgICAgICAgICAgICAgICAgICAneC11ZGlkJzogdWRpZAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyAib3MiOiAwIH0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+RpCBVc2VyIGluZm8gcmVzcG9uc2U6JywgcmVzdWx0KTsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT09IDAgJiYgcmVzdWx0LmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgdXNlciBpbmZvOicsIHJlc3VsdC5tc2cpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBpbmZvOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBIw6BtIGPhuq1wIG5o4bqtdCB0aMO0bmcgdGluIHVzZXIgbMOqbiBVSQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVzZXJJbmZvRGlzcGxheSh1c2VyRGV0YWlsID0gbnVsbCkgewogICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBnZXRUb2tlbkRhdGEoKTsKICAgICAgICAgICAgY29uc3QgdXNlcklkID0gdG9rZW5EYXRhLnVzZXJJZDsKICAgICAgICAgICAgY29uc3QgdWRpZCA9IHRva2VuRGF0YS51ZGlkOwogICAgICAgICAgICBjb25zdCBsb2dpblRpbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9naW5UaW1lJyk7CgogICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgVXNlciBJRAogICAgICAgICAgICBjb25zdCB1c2VySWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlVc2VySWQnKTsKICAgICAgICAgICAgaWYgKHVzZXJJZCkgewogICAgICAgICAgICAgICAgdXNlcklkRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJJZDsKICAgICAgICAgICAgICAgIHVzZXJJZEVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzY2N2VlYSc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1c2VySWRFbGVtZW50LnRleHRDb250ZW50ID0gJ0tow7RuZyB0w6xtIHRo4bqleSc7CiAgICAgICAgICAgICAgICB1c2VySWRFbGVtZW50LnN0eWxlLmNvbG9yID0gJyNkYzM1NDUnOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgVURJRAogICAgICAgICAgICBjb25zdCB1ZGlkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VWRpZCcpOwogICAgICAgICAgICBpZiAodWRpZCkgewogICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIDE2IGvDvSB04buxIMSR4bqndSB2w6AgdGjDqm0gdG9vbHRpcAogICAgICAgICAgICAgICAgdWRpZEVsZW1lbnQudGV4dENvbnRlbnQgPSB1ZGlkLnN1YnN0cmluZygwLCAxNikgKyAnLi4uJzsgCiAgICAgICAgICAgICAgICB1ZGlkRWxlbWVudC50aXRsZSA9IHVkaWQ7IC8vIEZ1bGwgVURJRCBvbiBob3ZlcgogICAgICAgICAgICAgICAgdWRpZEVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzE3YTJiOCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja1VkaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWRpZCcpIHx8IGdldEd1aWQoKTsKICAgICAgICAgICAgICAgIHVkaWRFbGVtZW50LnRleHRDb250ZW50ID0gZmFsbGJhY2tVZGlkLnN1YnN0cmluZygwLCAxNikgKyAnLi4uIChsb2NhbCknOwogICAgICAgICAgICAgICAgdWRpZEVsZW1lbnQudGl0bGUgPSBmYWxsYmFja1VkaWQ7CiAgICAgICAgICAgICAgICB1ZGlkRWxlbWVudC5zdHlsZS5jb2xvciA9ICcjZmZjMTA3JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIEFuY2hvciBJRCAoZ2nhu5FuZyBVc2VyIElEKQogICAgICAgICAgICBjb25zdCBhbmNob3JJZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUFuY2hvcklkJyk7CiAgICAgICAgICAgIGlmICh1c2VySWQpIHsKICAgICAgICAgICAgICAgIGFuY2hvcklkRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJJZDsKICAgICAgICAgICAgICAgIGFuY2hvcklkRWxlbWVudC5zdHlsZS5jb2xvciA9ICcjMjhhNzQ1JzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrQW5jaG9ySWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5OTk5OTk5OTkpICsgMjAwMDAwMDAwMDsKICAgICAgICAgICAgICAgIGFuY2hvcklkRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2ZhbGxiYWNrQW5jaG9ySWR9IChyYW5kb20pYDsKICAgICAgICAgICAgICAgIGFuY2hvcklkRWxlbWVudC5zdHlsZS5jb2xvciA9ICcjZmZjMTA3JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIExvZ2luIFRpbWUKICAgICAgICAgICAgY29uc3QgbG9naW5UaW1lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5TG9naW5UaW1lJyk7CiAgICAgICAgICAgIGlmIChsb2dpblRpbWUpIHsKICAgICAgICAgICAgICAgIC8vIEZvcm1hdDogMTJoIChTQS9DSCkgLSBOZ8OgeS9UaMOhbmcvTsSDbQogICAgICAgICAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGxvZ2luVGltZSk7CiAgICAgICAgICAgICAgICBjb25zdCB0aW1lU3RyID0gZC50b0xvY2FsZVRpbWVTdHJpbmcoJ3ZpLVZOJywgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnLCBob3VyMTI6IHRydWUgfSk7IC8vIGUuZy4gMTE6MjIgQ0gKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHIgPSBkLnRvTG9jYWxlRGF0ZVN0cmluZygndmktVk4nLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJzItZGlnaXQnLCB5ZWFyOiAnbnVtZXJpYycgfSk7IC8vIGUuZy4gMDMvMDIvMjAyNgogICAgICAgICAgICAgICAgbG9naW5UaW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RpbWVTdHJ9IC0gJHtkYXRlU3RyfWA7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsb2dpblRpbWVFbGVtZW50LnRleHRDb250ZW50ID0gJ0tow7RuZyB4w6FjIMSR4buLbmgnOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgdGjDtG5nIHRpbiBjaGkgdGnhur90IHVzZXIgbuG6v3UgY8OzCiAgICAgICAgICAgIGlmICh1c2VyRGV0YWlsKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVVc2VyUHJvZmlsZURpc3BsYXkodXNlckRldGFpbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgVXBkYXRlZCB1c2VyIGluZm8gZGlzcGxheSAtIFVzZXJJRDonLCB1c2VySWQsICdVRElEOicsIHVkaWQpOwogICAgICAgIH0KCiAgICAgICAgLy8gSMOgbSBj4bqtcCBuaOG6rXQgdGjDtG5nIHRpbiBwcm9maWxlIHVzZXIKICAgICAgICBmdW5jdGlvbiB1cGRhdGVVc2VyUHJvZmlsZURpc3BsYXkodXNlckRldGFpbCkgewogICAgICAgICAgICBjb25zdCBwcm9maWxlU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VySW5mb1NlY3Rpb24nKTsKCiAgICAgICAgICAgIGlmICh1c2VyRGV0YWlsKSB7CiAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgYXZhdGFyCiAgICAgICAgICAgICAgICBjb25zdCBhdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJBdmF0YXInKTsKICAgICAgICAgICAgICAgIGlmICh1c2VyRGV0YWlsLmF2YXRhciAmJiB1c2VyRGV0YWlsLmF2YXRhci50cmltKCkgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgYXZhdGFyRWxlbWVudC5zcmMgPSB1c2VyRGV0YWlsLmF2YXRhcjsKICAgICAgICAgICAgICAgICAgICAvLyBUaMOqbSBlcnJvciBoYW5kbGluZyBjaG8gYXZhdGFyIC0gbuG6v3UgbOG7l2kgdGjDrCBoaeG7g24gdGjhu4sgYXZhdGFyIG3hurdjIMSR4buLbmgKICAgICAgICAgICAgICAgICAgICBhdmF0YXJFbGVtZW50Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU5qQWlJR2hsYVdkb2REMGlOakFpSUhacFpYZENiM2c5SWpBZ01DQTJNQ0EyTUNJZ1ptbHNiRDBpYm05dVpTSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklqNEtQR05wY21Oc1pTQmplRDBpTXpBaUlHTjVQU0l6TUNJZ2NqMGlNekFpSUdacGJHdzlJaU5HUmtZNU9EQWlMejRLUEdWMlkybHlZMnhsSUdONFBTSXpNQ0lnWTNrOUlqSTFJaUJ5ZUQwaU9DSWdjbms5SWpnaUlHWnBiR3c5SWlOR1JrTTJNRGNpTHo0S1BHVjJjR0YwYUNCa1BTSk5NVEFnTkRWRE1UQWdNell1TnpFMU55QXhOaTQzTVRVM0lETXdJREkxSURNd1NETTFRelF6TGpJNE5ETWdNekFnTlRBZ016WXVOekUxTnlBMU1DQTBOVlkxTUVneE1GWTBOVm9pSUdacGJHdzlJaU5HUmtNMk1EY2lMejRLUEM5emRtYysnOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIENvdWxkIG5vdCBsb2FkIGF2YXRhciBpbWFnZSwgdXNpbmcgZGVmYXVsdCcpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBhdmF0YXIgbeG6t2MgxJHhu4tuaCBraGkga2jDtG5nIGPDsyBhdmF0YXIKICAgICAgICAgICAgICAgICAgICBhdmF0YXJFbGVtZW50LnNyYyA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlOakFpSUdobGFXZG9kRDBpTmpBaUlIWnBaWGRDYjNnOUlqQWdNQ0EyTUNBMk1DSWdabWxzYkQwaWJtOXVaU0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JajRLUEdOcGNtTnNaU0JqZUQwaU16QWlJR041UFNJek1DSWdjajBpTXpBaUlHWnBiR3c5SWlOR1JrWTVPREFpTHo0S1BHVjJZMmx5WTJ4bElHTjRQU0l6TUNJZ1kzazlJakkxSWlCeWVEMGlPQ0lnY25rOUlqZ2lJR1pwYkd3OUlpTkdSa00yTURjaUx6NEtQR1YyY0dGMGFDQmtQU0pOTVRBZ05EVkRNVEFnTXpZdU56RTFOeUF4Tmk0M01UVTNJRE13SURJMUlETXdTRE0xUXpRekxqSTRORE1nTXpBZ05UQWdNell1TnpFMU55QTFNQ0EwTlZZMU1FZ3hNRlkwTlZvaUlHWnBiR3c5SWlOR1JrTTJNRGNpTHo0S1BDOXpkbWMrJzsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4oS577iPIE5vIGF2YXRhciBwcm92aWRlZCwgdXNpbmcgZGVmYXVsdCBhdmF0YXInKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgbmlja25hbWUgduG7m2kgZGVjb2RlIGVtb2ppCiAgICAgICAgICAgICAgICBjb25zdCBuaWNrbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlck5pY2tuYW1lJyk7CiAgICAgICAgICAgICAgICBsZXQgbmlja25hbWUgPSB1c2VyRGV0YWlsLm5pY2tuYW1lIHx8ICdLaMO0bmcgY8OzIHTDqm4nOwogICAgICAgICAgICAgICAgLy8gRGVjb2RlIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlcyBuaMawIFx1RDgzRFx1REUwQgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZSA9IEpTT04ucGFyc2UoJyInICsgbmlja25hbWUucmVwbGFjZSgvXFwvZywgJ1xcJykgKyAnIicpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIC8vIE7hur91IGtow7RuZyBkZWNvZGUgxJHGsOG7o2MgdGjDrCBnaeG7ryBuZ3V5w6puCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBuaWNrbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuaWNrbmFtZTsKCiAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgZmFucyB24bubaSDEkeG7i25oIGThuqFuZyBz4buRCiAgICAgICAgICAgICAgICBjb25zdCBmYW5zRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyRmFucycpOwogICAgICAgICAgICAgICAgY29uc3QgZmFuc0NvdW50ID0gdXNlckRldGFpbC5mYW5zIHx8IDA7CiAgICAgICAgICAgICAgICBmYW5zRWxlbWVudC50ZXh0Q29udGVudCA9IGZhbnNDb3VudC50b0xvY2FsZVN0cmluZygndmktVk4nKTsKCiAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgZm9sbG93cyB24bubaSDEkeG7i25oIGThuqFuZyBz4buRCiAgICAgICAgICAgICAgICBjb25zdCBmb2xsb3dzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyRm9sbG93cycpOwogICAgICAgICAgICAgICAgY29uc3QgZm9sbG93c0NvdW50ID0gdXNlckRldGFpbC5mb2xsb3dzIHx8IDA7CiAgICAgICAgICAgICAgICBmb2xsb3dzRWxlbWVudC50ZXh0Q29udGVudCA9IGZvbGxvd3NDb3VudC50b0xvY2FsZVN0cmluZygndmktVk4nKTsKCiAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgY2jhu68ga8O9CiAgICAgICAgICAgICAgICBjb25zdCBzaWduYXR1cmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJTaWduYXR1cmUnKTsKICAgICAgICAgICAgICAgIHNpZ25hdHVyZUVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VyRGV0YWlsLnNpZ25hdHVyZSB8fCAnQ2jGsGEgY8OzIGNo4buvIGvDvSc7CgogICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHRow6BuaCBwaOG7kQogICAgICAgICAgICAgICAgY29uc3QgY2l0eUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckNpdHknKTsKICAgICAgICAgICAgICAgIGNpdHlFbGVtZW50LnRleHRDb250ZW50ID0gdXNlckRldGFpbC5jaXR5IHx8ICdDaMawYSBj4bqtcCBuaOG6rXQnOwoKICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBsZXZlbAogICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJMZXZlbCcpOwogICAgICAgICAgICAgICAgbGV2ZWxFbGVtZW50LnRleHRDb250ZW50ID0gYEx2LiR7dXNlckRldGFpbC51c2VyTGV2ZWwgfHwgMH1gOwoKICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyB4dSB2w6BuZyB24bubaSDEkeG7i25oIGThuqFuZwogICAgICAgICAgICAgICAgY29uc3QgZ29sZENvaW5FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJHb2xkQ29pbicpOwogICAgICAgICAgICAgICAgY29uc3QgZ29sZENvaW4gPSBwYXJzZUZsb2F0KHVzZXJEZXRhaWwuZ29sZENvaW4pIHx8IDA7CiAgICAgICAgICAgICAgICBnb2xkQ29pbkVsZW1lbnQudGV4dENvbnRlbnQgPSBnb2xkQ29pbi50b0xvY2FsZVN0cmluZygndmktVk4nLCB7CiAgICAgICAgICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyLAogICAgICAgICAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBVcGRhdGVkIHVzZXIgcHJvZmlsZSBkaXNwbGF5OicsIG5pY2tuYW1lLCAnRmFuczonLCBmYW5zQ291bnQsICdGb2xsb3dzOicsIGZvbGxvd3NDb3VudCk7CiAgICAgICAgICAgIH0gCiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PSBEQU5IIFPDgUNIIElET0wgPT09PT0KCiAgICAgICAgLy8gSMOgbSBs4bqleSBkYW5oIHPDoWNoIGlkb2wgdOG7qyBBUEkKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZXRJZG9sTGlzdCgpIHsKICAgICAgICAgICAgY29uc3QgbG9naW5JbmZvID0gZ2V0TG9naW5JbmZvKCk7CiAgICAgICAgICAgIGlmICghbG9naW5JbmZvLnRva2VuKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdD4bqnbiDEkcSDbmcgbmjhuq1wIHRyxrDhu5tjIGtoaSBs4bqleSBkYW5oIHPDoWNoIGlkb2whJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgdG9rZW5EYXRhID0gZ2V0VG9rZW5EYXRhKCk7CiAgICAgICAgICAgIGNvbnN0IHVpZCA9IHRva2VuRGF0YS51c2VySWQ7CiAgICAgICAgICAgIGNvbnN0IHVkaWQgPSB0b2tlbkRhdGEudWRpZCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWRpZCcpIHx8IGdldEd1aWQoKTsKCiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgICAgICBjb25zdCB4U2lnbiA9IG1kNShgJHt1ZGlkfWpneWgsa2FzZCR7dGltZXN0YW1wfWApOwoKICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gRmV0Y2hpbmcgaWRvbCBsaXN0IHdpdGg6JywgeyB1aWQsIHVkaWQsIHRpbWVzdGFtcCwgeFNpZ24gfSk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9nYXRld2F5Lm1tbGl2ZS5vbmxpbmUvbGl2ZS1jbGllbnQvbGl2ZS9uZXcvNDIzMS8xNTI5L2xpc3QnLCB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnVkknLAogICAgICAgICAgICAgICAgICAgICAgICAnYXBwaWQnOiAnTU1MaXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dGhvcml6YXRpb24nOiBgSFNCb3ggJHtsb2dpbkluZm8udG9rZW59YCwKICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLAogICAgICAgICAgICAgICAgICAgICAgICAnbi1sJzogJ1knLAogICAgICAgICAgICAgICAgICAgICAgICAnb3JpZ2luJzogJ2h0dHBzOi8vbW1saXZlLm9ubGluZScsCiAgICAgICAgICAgICAgICAgICAgICAgICdvcyc6ICcwJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3AtZyc6ICdOJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3ByaW9yaXR5JzogJ3U9MSwgaScsCiAgICAgICAgICAgICAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8vbW1saXZlLm9ubGluZS8nLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWNoLXVhJzogJyJHb29nbGUgQ2hyb21lIjt2PSIxNDEiLCAiTm90P0FfQnJhbmQiO3Y9IjgiLCAiQ2hyb21pdW0iO3Y9IjE0MSInLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIm1hY09TIicsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtc2l0ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE1XzcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xNDEuMC4wLjAgU2FmYXJpLzUzNy4zNicsCiAgICAgICAgICAgICAgICAgICAgICAgICd4LWFwcHZlcnNpb24nOiAnMi41LjAnLAogICAgICAgICAgICAgICAgICAgICAgICAneC1sYW5ndWFnZSc6ICdWSScsCiAgICAgICAgICAgICAgICAgICAgICAgICd4LXNpZ24nOiB4U2lnbiwKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtdGltZXN0YW1wJzogdGltZXN0YW1wLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgICAgICAgICd4LXVkaWQnOiB1ZGlkCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgICJ1aWQiOiB1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogMSwKICAgICAgICAgICAgICAgICAgICAgICAgIm9zIjogMAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OrSBJZG9sIGxpc3QgQVBJIHJlc3BvbnNlOicsIHJlc3VsdCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OrSBSZXNwb25zZSBjb2RlOicsIHJlc3VsdC5jb2RlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46tIFJlc3BvbnNlIGRhdGE6JywgcmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gRGF0YSB0eXBlOicsIHR5cGVvZiByZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OrSBEYXRhIGlzIGFycmF5OicsIEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bGx5IGZldGNoZWQgJHtyZXN1bHQuZGF0YS5sZW5ndGh9IGlkb2xzYCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gRmlyc3QgaWRvbCBzYW1wbGU6JywgcmVzdWx0LmRhdGFbMF0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBmZXRjaCBpZG9sIGxpc3Q6JywgcmVzdWx0Lm1lc3NhZ2UgfHwgcmVzdWx0Lm1zZyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgaWRvbCBsaXN0OicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBIw6BtIHJlbmRlciBkYW5oIHPDoWNoIGlkb2wgdOG7qyBBUEkKICAgICAgICBmdW5jdGlvbiByZW5kZXJBcGlJZG9sTGlzdChpZG9scykgewogICAgICAgICAgICBjb25zdCBpZG9sTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZG9sR3JpZCcpOwogICAgICAgICAgICBpZiAoIWlkb2xMaXN0Q29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQ2Fubm90IGZpbmQgaWRvbEdyaWQgZWxlbWVudCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIWlkb2xzIHx8ICFBcnJheS5pc0FycmF5KGlkb2xzKSB8fCBpZG9scy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gTm8gaWRvbHMgdG8gcmVuZGVyJyk7CiAgICAgICAgICAgICAgICBpZG9sTGlzdENvbnRhaW5lci5pbm5lckhUTUwgPSAnPHAgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICM2NjY7IGdyaWQtY29sdW1uOiAxIC8gLTE7Ij5LaMO0bmcgY8OzIGlkb2wgbsOgbzwvcD4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBMxrB1IGRhdGEgxJHhu4Mgc+G7rSBk4bulbmcgdHJvbmcgc2VsZWN0QXBpSWRvbAogICAgICAgICAgICBhcGlJZG9sc0RhdGEgPSBpZG9sczsKCiAgICAgICAgICAgIC8vIEzGsHUgZOG7ryBsaeG7h3UgZ+G7kWMgY2hvIHNlYXJjaCAoY2jhu4kgbOG6p24gxJHhuqd1KQogICAgICAgICAgICBpZiAob3JpZ2luYWxJZG9sc0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBvcmlnaW5hbElkb2xzRGF0YSA9IFsuLi5pZG9sc107CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBTYXZlZCBvcmlnaW5hbCBpZG9scyBkYXRhIGZvciBzZWFyY2gnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gRGVidWc6IExvZyBzYW1wbGUgaWRvbCBzdHJ1Y3R1cmUKICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gU2FtcGxlIGlkb2wgZGF0YSBzdHJ1Y3R1cmU6JywgaWRvbHNbMF0pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBBdmFpbGFibGUgZmllbGRzOicsIE9iamVjdC5rZXlzKGlkb2xzWzBdIHx8IHt9KSk7CgogICAgICAgICAgICBsZXQgaHRtbCA9ICcnOwogICAgICAgICAgICBpZG9scy5mb3JFYWNoKChpZG9sLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYPCflI0gUmVuZGVyaW5nIGlkb2wgJHtpbmRleH06IGFuY2hvcklkPSR7aWRvbC5hbmNob3JJZH0sIG5pY2tuYW1lPSR7aWRvbC5uaWNrbmFtZSB8fCBpZG9sLm5pY2tOYW1lfWApOwoKICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imlkb2wtY2FyZCIgb25jbGljaz0ic2VsZWN0QXBpSWRvbEJ5QW5jaG9ySWQoJyR7aWRvbC5hbmNob3JJZH0nKSIgZGF0YS1pZG9sLWluZGV4PSIke2luZGV4fSIgZGF0YS1pZG9sLWlkPSIke2lkb2wuYW5jaG9ySWR9Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9IiR7aWRvbC5hdmF0YXJ9IiBhbHQ9IiR7aWRvbC5uaWNrbmFtZSB8fCBpZG9sLm5pY2tOYW1lfSIgY2xhc3M9Imlkb2wtYXZhdGFyLWltZyIgb25lcnJvcj0idGhpcy5zcmM9J2h0dHBzOi8vdWktYXZhdGFycy5jb20vYXBpLz9uYW1lPUlkb2wnIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWRvbC1uYW1lIj4ke2lkb2wubmlja25hbWUgfHwgaWRvbC5uaWNrTmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWRvbC1kZXNjIj4ke2lkb2wuc2lnbmF0dXJlIHx8ICdObyBkZXNjcmlwdGlvbid9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgZ2FwOjVweDsgbWFyZ2luLXRvcDo1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aWRvbC5saXZlU3RhdHVzID09PSAxID8gJzxzcGFuIGNsYXNzPSJzdGF0dXMtcGlsbCBzdGF0dXMtbGl2ZSI+8J+UtCBMSVZFPC9zcGFuPicgOiAnPHNwYW4gY2xhc3M9InN0YXR1cy1waWxsIHN0YXR1cy1vZmZsaW5lIj7imqsgT0ZGPC9zcGFuPid9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3RhdHVzLXBpbGwiIHN0eWxlPSJiYWNrZ3JvdW5kOiNmMWYyZjY7IGNvbG9yOiM1NTUiPklEOiAke2lkb2wuYW5jaG9ySWR9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWRvbExpc3RDb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBSZW5kZXJlZCAke2lkb2xzLmxlbmd0aH0gaWRvbHNgKTsKCiAgICAgICAgICAgIC8vIFNldHVwIHNlYXJjaCBpbnB1dCBldmVudHMgKGNo4buJIHNldHVwIG3hu5l0IGzhuqduKQogICAgICAgICAgICBzZXR1cFNlYXJjaElucHV0KCk7CgogICAgICAgICAgICAvLyBVcGRhdGUgc2VhcmNoIHJlc3VsdHMgY291bnQKICAgICAgICAgICAgaWYgKGN1cnJlbnRTZWFyY2hUZXJtKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRzQ291bnQoaWRvbHMubGVuZ3RoLCBvcmlnaW5hbElkb2xzRGF0YS5sZW5ndGgsIGN1cnJlbnRTZWFyY2hUZXJtKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVwZGF0ZVNlYXJjaFJlc3VsdHNDb3VudChpZG9scy5sZW5ndGgsIG9yaWdpbmFsSWRvbHNEYXRhLmxlbmd0aCB8fCBpZG9scy5sZW5ndGgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uIFVJIHNhdSBraGkgcmVuZGVyCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdXBkYXRlSWRvbENhcmRTZWxlY3Rpb24oKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFVwZGF0ZWQgaWRvbCBjYXJkIHNlbGVjdGlvbiBhZnRlciByZW5kZXInKTsKICAgICAgICAgICAgfSwgMTAwKTsKCiAgICAgICAgICAgIC8vIFThu7EgxJHhu5luZyBjaOG7jW4gaWRvbCDEkeG6p3UgdGnDqm4gbuG6v3UgY2jGsGEgY8OzIGlkb2wgbsOgbyDEkcaw4bujYyBjaOG7jW4KICAgICAgICAgICAgaWYgKCFzZWxlY3RlZElkb2wgJiYgaWRvbHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJZG9sID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBpZG9sc1swXS5hbmNob3JJZCwgLy8gU+G7rSBk4bulbmcgYW5jaG9ySWQgbMOgbSBpZCBjaMOtbmgKICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogaWRvbHNbMF0ubmlja25hbWUgfHwgaWRvbHNbMF0ubmlja05hbWUsCiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBpZG9sc1swXS5zaWduYXR1cmUgfHwgaWRvbHNbMF0uZGVzYyB8fCAnQ2jGsGEgY8OzIG3DtCB04bqjJywKICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IGlkb2xzWzBdLmF2YXRhciwKICAgICAgICAgICAgICAgICAgICBsaXZlSWQ6IGlkb2xzWzBdLmxpdmVJZCB8fCBpZG9sc1swXS5hbmNob3JJZCwKICAgICAgICAgICAgICAgICAgICBhbmNob3JJZDogaWRvbHNbMF0uYW5jaG9ySWQsIC8vIGFuY2hvcklkIHThu6sgQVBJCiAgICAgICAgICAgICAgICAgICAgbGl2ZVN0YXR1czogaWRvbHNbMF0ubGl2ZVN0YXR1cwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHNlbGVjdElkb2woZmlyc3RJZG9sKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46vIEF1dG8tc2VsZWN0ZWQgZmlyc3QgaWRvbDogJHtmaXJzdElkb2wubmlja25hbWV9YCk7CgogICAgICAgICAgICAgICAgLy8gRm9yY2UgdXBkYXRlIHNlbGVjdGlvbiBVSSBhZnRlciBhdXRvLXNlbGVjdAogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSWRvbENhcmRTZWxlY3Rpb24oKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBGb3JjZSB1cGRhdGVkIHNlbGVjdGlvbiBhZnRlciBhdXRvLXNlbGVjdCcpOwogICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gTMawdSB0cuG7ryBpZG9sIGRhdGEgdOG7qyBBUEkKICAgICAgICBsZXQgYXBpSWRvbHNEYXRhID0gW107CgogICAgICAgIC8vIEZ1bmN0aW9uIGNo4buNbiBpZG9sIHThu6sgQVBJIHRoZW8gaW5kZXggKGxlZ2FjeSBzdXBwb3J0KQogICAgICAgIGZ1bmN0aW9uIHNlbGVjdEFwaUlkb2woaW5kZXgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYPCfjq8gc2VsZWN0QXBpSWRvbCBjYWxsZWQgd2l0aCBpbmRleDogJHtpbmRleH1gKTsKICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCBhcGlJZG9sc0RhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpZG9sID0gYXBpSWRvbHNEYXRhW2luZGV4XTsKICAgICAgICAgICAgICAgIHNlbGVjdEFwaUlkb2xCeUFuY2hvcklkKGlkb2wuYW5jaG9ySWQpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBGdW5jdGlvbiBjaOG7jW4gaWRvbCB04burIEFQSSB0aGVvIGFuY2hvcklkIChzZWFyY2gtZnJpZW5kbHkpCiAgICAgICAgZnVuY3Rpb24gc2VsZWN0QXBpSWRvbEJ5QW5jaG9ySWQoYW5jaG9ySWQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYPCfjq8gc2VsZWN0QXBpSWRvbEJ5QW5jaG9ySWQgY2FsbGVkIHdpdGggYW5jaG9ySWQ6ICR7YW5jaG9ySWR9YCk7CgogICAgICAgICAgICAvLyBUw6xtIGlkb2wgdHJvbmcgb3JpZ2luYWxJZG9sc0RhdGEgKGRhdGEgZ+G7kWMpIMSR4buDIMSR4bqjbSBi4bqjbyBsdcO0biB0w6xtIHRo4bqleQogICAgICAgICAgICBjb25zdCBzZWFyY2hEYXRhID0gb3JpZ2luYWxJZG9sc0RhdGEubGVuZ3RoID4gMCA/IG9yaWdpbmFsSWRvbHNEYXRhIDogYXBpSWRvbHNEYXRhOwogICAgICAgICAgICBjb25zdCBpZG9sID0gc2VhcmNoRGF0YS5maW5kKGlkb2wgPT4gU3RyaW5nKGlkb2wuYW5jaG9ySWQpID09PSBTdHJpbmcoYW5jaG9ySWQpKTsKCiAgICAgICAgICAgIGlmIChpZG9sKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OryBGb3VuZCBpZG9sIGRhdGE6YCwgaWRvbCk7CgogICAgICAgICAgICAgICAgY29uc3QgaWRvbE9iaiA9IHsKICAgICAgICAgICAgICAgICAgICBpZDogaWRvbC5hbmNob3JJZCwgLy8gU+G7rSBk4bulbmcgYW5jaG9ySWQgbMOgbSBpZCBjaMOtbmgKICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogaWRvbC5uaWNrbmFtZSB8fCBpZG9sLm5pY2tOYW1lLAogICAgICAgICAgICAgICAgICAgIGF2YXRhcjogaWRvbC5hdmF0YXIsCiAgICAgICAgICAgICAgICAgICAgbGl2ZUlkOiBpZG9sLmxpdmVJZCB8fCBpZG9sLmFuY2hvcklkLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcklkOiBpZG9sLmFuY2hvcklkLCAvLyBhbmNob3JJZCB04burIEFQSQogICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogaWRvbC5zaWduYXR1cmUgfHwgaWRvbC5kZXNjIHx8ICdDaMawYSBjw7MgbcO0IHThuqMnLCAvLyBUaMOqbSBzaWduYXR1cmUgZmllbGQKICAgICAgICAgICAgICAgICAgICBsaXZlU3RhdHVzOiBpZG9sLmxpdmVTdGF0dXMKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfjq8gQ3JlYXRlZCBpZG9sT2JqOmAsIGlkb2xPYmopOwogICAgICAgICAgICAgICAgc2VsZWN0SWRvbChpZG9sT2JqKTsKCiAgICAgICAgICAgICAgICAvLyBGb3JjZSB1cGRhdGUgc2VsZWN0aW9uIHbhu5tpIGRlbGF5CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBGb3JjZSB1cGRhdGluZyBzZWxlY3Rpb24gYWZ0ZXIgY2xpY2snKTsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVJZG9sQ2FyZFNlbGVjdGlvbigpOwogICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIENvdWxkIG5vdCBmaW5kIGlkb2wgd2l0aCBhbmNob3JJZDogJHthbmNob3JJZH1gKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gPT09PT0gU0VBUkNIIEZVTkNUSU9OUyA9PT09PQoKICAgICAgICAvLyBCaeG6v24gbMawdSB0cuG7ryBk4buvIGxp4buHdSBn4buRYyB2w6Aga+G6v3QgcXXhuqMgc2VhcmNoCiAgICAgICAgbGV0IG9yaWdpbmFsSWRvbHNEYXRhID0gW107CiAgICAgICAgbGV0IGN1cnJlbnRTZWFyY2hUZXJtID0gJyc7CgogICAgICAgIC8vIEjDoG0gdMOsbSBraeG6v20gaWRvbAogICAgICAgIGZ1bmN0aW9uIHNlYXJjaElkb2xzKCkgewogICAgICAgICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZG9sU2VhcmNoSW5wdXQnKTsKICAgICAgICAgICAgY29uc3Qgc2VhcmNoVGVybSA9IHNlYXJjaElucHV0LnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgaWYgKCFhcGlJZG9sc0RhdGEgfHwgYXBpSWRvbHNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdXBkYXRlU2VhcmNoUmVzdWx0c0NvdW50KDAsIDAsICdDaMawYSBjw7MgZOG7ryBsaeG7h3UgaWRvbCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBMxrB1IGThu68gbGnhu4d1IGfhu5FjIGzhuqduIMSR4bqndQogICAgICAgICAgICBpZiAob3JpZ2luYWxJZG9sc0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBvcmlnaW5hbElkb2xzRGF0YSA9IFsuLi5hcGlJZG9sc0RhdGFdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjdXJyZW50U2VhcmNoVGVybSA9IHNlYXJjaFRlcm07CgogICAgICAgICAgICBpZiAoIXNlYXJjaFRlcm0pIHsKICAgICAgICAgICAgICAgIC8vIE7hur91IGtow7RuZyBjw7MgdOG7qyBraMOzYSwgaGnhu4NuIHRo4buLIHThuqV0IGPhuqMKICAgICAgICAgICAgICAgIHJlbmRlckFwaUlkb2xMaXN0KG9yaWdpbmFsSWRvbHNEYXRhKTsKICAgICAgICAgICAgICAgIHVwZGF0ZVNlYXJjaFJlc3VsdHNDb3VudChvcmlnaW5hbElkb2xzRGF0YS5sZW5ndGgsIG9yaWdpbmFsSWRvbHNEYXRhLmxlbmd0aCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFNlYXJjaGluZyBmb3I6Jywgc2VhcmNoVGVybSk7CgogICAgICAgICAgICAvLyBUw6xtIGtp4bq/bSB0aGVvIHTDqm4sIG5pY2tuYW1lIHbDoCBJRAogICAgICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0gb3JpZ2luYWxJZG9sc0RhdGEuZmlsdGVyKGlkb2wgPT4gewogICAgICAgICAgICAgICAgY29uc3Qgbmlja25hbWUgPSAoaWRvbC5uaWNrbmFtZSB8fCBpZG9sLm5pY2tOYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgY29uc3QgYW5jaG9ySWQgPSBTdHJpbmcoaWRvbC5hbmNob3JJZCB8fCAnJykudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IChpZG9sLnNpZ25hdHVyZSB8fCBpZG9sLmRlc2MgfHwgJycpLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIG5pY2tuYW1lLmluY2x1ZGVzKHNlYXJjaFRlcm0pIHx8CiAgICAgICAgICAgICAgICAgICAgYW5jaG9ySWQuaW5jbHVkZXMoc2VhcmNoVGVybSkgfHwKICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUuaW5jbHVkZXMoc2VhcmNoVGVybSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0gRm91bmQgJHtzZWFyY2hSZXN1bHRzLmxlbmd0aH0gcmVzdWx0cyBmb3IgIiR7c2VhcmNoVGVybX0iYCk7CgogICAgICAgICAgICAvLyBSZW5kZXIga+G6v3QgcXXhuqMgdMOsbSBraeG6v20KICAgICAgICAgICAgcmVuZGVyQXBpSWRvbExpc3Qoc2VhcmNoUmVzdWx0cyk7CiAgICAgICAgICAgIHVwZGF0ZVNlYXJjaFJlc3VsdHNDb3VudChzZWFyY2hSZXN1bHRzLmxlbmd0aCwgb3JpZ2luYWxJZG9sc0RhdGEubGVuZ3RoLCBzZWFyY2hUZXJtKTsKICAgICAgICB9CgogICAgICAgIC8vIEjDoG0geMOzYSBzZWFyY2gKICAgICAgICBmdW5jdGlvbiBjbGVhclNlYXJjaCgpIHsKICAgICAgICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRvbFNlYXJjaElucHV0Jyk7CiAgICAgICAgICAgIHNlYXJjaElucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgIGN1cnJlbnRTZWFyY2hUZXJtID0gJyc7CgogICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgbOG6oWkgdOG6pXQgY+G6oyBpZG9sCiAgICAgICAgICAgIGlmIChvcmlnaW5hbElkb2xzRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICByZW5kZXJBcGlJZG9sTGlzdChvcmlnaW5hbElkb2xzRGF0YSk7CiAgICAgICAgICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRzQ291bnQob3JpZ2luYWxJZG9sc0RhdGEubGVuZ3RoLCBvcmlnaW5hbElkb2xzRGF0YS5sZW5ndGgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyBTZWFyY2ggY2xlYXJlZCwgc2hvd2luZyBhbGwgaWRvbHMnKTsKICAgICAgICB9CgogICAgICAgIC8vIEjDoG0gY+G6rXAgbmjhuq10IHPhu5EgbMaw4bujbmcga+G6v3QgcXXhuqMgdMOsbSBraeG6v20KICAgICAgICBmdW5jdGlvbiB1cGRhdGVTZWFyY2hSZXN1bHRzQ291bnQoZm91bmQsIHRvdGFsLCBzZWFyY2hUZXJtID0gJycpIHsKICAgICAgICAgICAgY29uc3QgY291bnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaFJlc3VsdHNDb3VudCcpOwogICAgICAgICAgICBpZiAoIWNvdW50RWxlbWVudCkgcmV0dXJuOwoKICAgICAgICAgICAgaWYgKHNlYXJjaFRlcm0gJiYgc2VhcmNoVGVybSAhPT0gJycpIHsKICAgICAgICAgICAgICAgIGlmIChmb3VuZCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGNvdW50RWxlbWVudC5pbm5lckhUTUwgPSBg4p2MIEtow7RuZyB0w6xtIHRo4bqleSBr4bq/dCBxdeG6oyBjaG8gIjxzdHJvbmc+JHtzZWFyY2hUZXJtfTwvc3Ryb25nPiJgOwogICAgICAgICAgICAgICAgICAgIGNvdW50RWxlbWVudC5zdHlsZS5jb2xvciA9ICcjZGMzNTQ1JzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY291bnRFbGVtZW50LmlubmVySFRNTCA9IGDinIUgVMOsbSB0aOG6pXkgPHN0cm9uZz4ke2ZvdW5kfTwvc3Ryb25nPiBr4bq/dCBxdeG6oyBjaG8gIjxzdHJvbmc+JHtzZWFyY2hUZXJtfTwvc3Ryb25nPiIgKHThu6sgJHt0b3RhbH0gaWRvbClgOwogICAgICAgICAgICAgICAgICAgIGNvdW50RWxlbWVudC5zdHlsZS5jb2xvciA9ICcjMjhhNzQ1JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvdW50RWxlbWVudC5pbm5lckhUTUwgPSBg8J+TiyBIaeG7g24gdGjhu4sgdOG6pXQgY+G6oyA8c3Ryb25nPiR7dG90YWx9PC9zdHJvbmc+IGlkb2xgOwogICAgICAgICAgICAgICAgY291bnRFbGVtZW50LnN0eWxlLmNvbG9yID0gJyM2Yzc1N2QnOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBIw6BtIHNlYXJjaCByZWFsdGltZSBraGkgZ8O1CiAgICAgICAgZnVuY3Rpb24gc2V0dXBTZWFyY2hJbnB1dCgpIHsKICAgICAgICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRvbFNlYXJjaElucHV0Jyk7CiAgICAgICAgICAgIGlmIChzZWFyY2hJbnB1dCkgewogICAgICAgICAgICAgICAgLy8gU2VhcmNoIGtoaSBuaOG6pW4gRW50ZXIKICAgICAgICAgICAgICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSWRvbHMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyBTZWFyY2ggcmVhbHRpbWUgduG7m2kgZGVib3VuY2UKICAgICAgICAgICAgICAgIGxldCBzZWFyY2hUaW1lb3V0OwogICAgICAgICAgICAgICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzZWFyY2hUaW1lb3V0KTsKICAgICAgICAgICAgICAgICAgICBzZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaElkb2xzKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsgLy8gRGVsYXkgMzAwbXMgxJHhu4MgdHLDoW5oIHNlYXJjaCBxdcOhIG5oaeG7gXUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PSBTQ1JJUFQgRlVOQ1RJT05TIChEZWxldGVkIGFzIHJlcXVlc3RlZCkgPT09PT0KCiAgICAgICAgLy8gSMOgbSBkZXRlY3QgaOG7hyDEkWnhu4F1IGjDoG5oCiAgICAgICAgZnVuY3Rpb24gZGV0ZWN0T1MoKSB7CiAgICAgICAgICAgIGNvbnN0IHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCd3aW4nKSAhPT0gLTEpIHJldHVybiAnd2luZG93cyc7CiAgICAgICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZignbWFjJykgIT09IC0xKSByZXR1cm4gJ21hY29zJzsKICAgICAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdsaW51eCcpICE9PSAtMSkgcmV0dXJuICdsaW51eCc7CiAgICAgICAgICAgIHJldHVybiAndW5peCc7IC8vIGRlZmF1bHQKICAgICAgICB9CgogICAgICAgIC8vID09PT09IENI4bqgWSBUUuG7sEMgVEnhur5QIFRSw4pOIFRSw4xOSCBEVVnhu4ZUID09PT09CiAgICAgICAgbGV0IGlzUnVubmluZyA9IGZhbHNlOwogICAgICAgIGxldCBzaG91bGRTdG9wID0gZmFsc2U7CgogICAgICAgIC8vIEjDoG0gY2jhuqF5IHRy4buxYyB0aeG6v3AgY8OhYyByZXF1ZXN0cyAoVMSCTkcgVOG7kEMgduG7m2kgcGFyYWxsZWwgcmVxdWVzdHMpCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gcnVuRGlyZWN0bHkobnVtYmVyT2ZSZXF1ZXN0cyA9IDEwMDAsIGRlbGF5U2Vjb25kcyA9IDAuMDEsIGNvbmN1cnJlbnRSZXF1ZXN0cyA9IDEwKSB7CiAgICAgICAgICAgIGlmIChpc1J1bm5pbmcpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfEkGFuZyBjw7MgdGnhur9uIHRyw6xuaCBjaOG6oXkga2jDoWMhIFZ1aSBsw7JuZyBjaOG7nSBob8OgbiB0aMOgbmggaG/hurdjIGThu6tuZyBs4bqhaS4nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbG9naW5JbmZvID0gZ2V0TG9naW5JbmZvKCk7CiAgICAgICAgICAgIGlmICghbG9naW5JbmZvLnRva2VuKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnQ+G6p24gxJHEg25nIG5o4bqtcCB0csaw4bubYyBraGkgY2jhuqF5IScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgcGFuZWwga+G6v3QgcXXhuqMKICAgICAgICAgICAgc2hvd1J1blJlc3VsdHNQYW5lbCgpOwoKICAgICAgICAgICAgLy8gUmVzZXQgdHLhuqFuZyB0aMOhaQogICAgICAgICAgICBpc1J1bm5pbmcgPSB0cnVlOwogICAgICAgICAgICBzaG91bGRTdG9wID0gZmFsc2U7CgogICAgICAgICAgICAvLyBHZXQgdmFsdWVzIGZyb20gY29uZmlnIGFuZCB0b2tlbgogICAgICAgICAgICBjb25zdCBsaXZlSWQgPSBHTE9CQUxfQ09ORklHLmxpdmVJZDsKICAgICAgICAgICAgY29uc3QgYW5jaG9ySWQgPSBHTE9CQUxfQ09ORklHLmFuY2hvcklkOwogICAgICAgICAgICBjb25zdCB1aWQgPSBnZXRUb2tlbkRhdGEoKS51c2VySWQgfHwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTk5OTk5OTk5KSArIDIwMDAwMDAwMDA7CiAgICAgICAgICAgIGNvbnN0IHVkaWQgPSBnZXRUb2tlbkRhdGEoKS51ZGlkIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1ZGlkJykgfHwgZ2V0R3VpZCgpOwoKICAgICAgICAgICAgY29uc29sZS5sb2coJ0RpcmVjdCBSdW4gQ29uZmlnIC0gTGl2ZUlEOicsIGxpdmVJZCwgJ0FuY2hvcklEOicsIGFuY2hvcklkLCAnVUlEOicsIHVpZCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDimqEgVFVSQk8gTU9ERTogJHtjb25jdXJyZW50UmVxdWVzdHN9IHJlcXVlc3RzIHNvbmcgc29uZ2ApOwoKICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzCiAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDAsIG51bWJlck9mUmVxdWVzdHMsICfEkGFuZyBi4bqvdCDEkeG6p3UuLi4nKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGDwn5qAIELhuq90IMSR4bqndSBjaOG6oXkgJHtudW1iZXJPZlJlcXVlc3RzfSByZXF1ZXN0cyAoJHtjb25jdXJyZW50UmVxdWVzdHN9IHJlcXVlc3RzIMSR4buTbmcgdGjhu51pKS4uLmAsICdpbmZvJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChg8J+TiiBDb25maWc6IExpdmVJRD0ke2xpdmVJZH0sIEFuY2hvcklEPSR7YW5jaG9ySWR9LCBVSUQ9JHt1aWR9YCwgJ2luZm8nKTsKCiAgICAgICAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwOwogICAgICAgICAgICBsZXQgZXJyb3JDb3VudCA9IDA7CiAgICAgICAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7CgogICAgICAgICAgICAvLyBIw6BtIGfhu61pIDEgcmVxdWVzdAogICAgICAgICAgICBjb25zdCBzZW5kUmVxdWVzdCA9IGFzeW5jIChpbmRleCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHNob3VsZFN0b3ApIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBzdG9wcGVkOiB0cnVlIH07CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIGluZGV4ICogMTA7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeFNpZ24gPSBtZDUoYCR7dWRpZH1qZ3loLGthc2Qke3RpbWVzdGFtcH1gKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5kb21Sb29tSWQgPSAyMjA7CgogICAgICAgICAgICAgICAgICAgIC8vIEfhu61pIHJlcXVlc3QKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2dhdGV3YXkubW1saXZlLm9ubGluZS9saXZlLWNsaWVudC9saXZlL2ludGVyL3Jvb20vJHtyYW5kb21Sb29tSWR9YCwgewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdWSScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXBwaWQnOiAnTU1MaXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRob3JpemF0aW9uJzogYEhTQm94ICR7bG9naW5JbmZvLnRva2VufWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbi1sJzogJ1knLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25ldy1wayc6ICcxJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcmlnaW4nOiAnaHR0cHM6Ly9tbWxpdmUub25saW5lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcyc6ICcwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwLWcnOiAnTicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVmZXJlcic6ICdodHRwczovL21tbGl2ZS5vbmxpbmUvJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWFwcHZlcnNpb24nOiAnMi41LjAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtbGFuZ3VhZ2UnOiAnVkknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtc2lnbic6IHhTaWduLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtdGltZXN0YW1wJzogdGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtdWRpZCc6IHVkaWQKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl2ZUlkOiBsaXZlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkSnVtcFVybDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JJZDogYW5jaG9ySWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Jvb21QcmV2aWV3OiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3M6IDAKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgaW5kZXgsIHJvb21JZDogcmFuZG9tUm9vbUlkIH07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGluZGV4LCByb29tSWQ6IHJhbmRvbVJvb21JZCwgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMgfTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgaW5kZXgsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyBDaOG6oXkgcmVxdWVzdHMgdGhlbyBiYXRjaCAoc29uZyBzb25nKQogICAgICAgICAgICBmb3IgKGxldCBiYXRjaFN0YXJ0ID0gMTsgYmF0Y2hTdGFydCA8PSBudW1iZXJPZlJlcXVlc3RzICYmICFzaG91bGRTdG9wOyBiYXRjaFN0YXJ0ICs9IGNvbmN1cnJlbnRSZXF1ZXN0cykgewogICAgICAgICAgICAgICAgY29uc3QgYmF0Y2hFbmQgPSBNYXRoLm1pbihiYXRjaFN0YXJ0ICsgY29uY3VycmVudFJlcXVlc3RzIC0gMSwgbnVtYmVyT2ZSZXF1ZXN0cyk7CiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaFNpemUgPSBiYXRjaEVuZCAtIGJhdGNoU3RhcnQgKyAxOwoKICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKGNvbXBsZXRlZENvdW50LCBudW1iZXJPZlJlcXVlc3RzLCBgxJBhbmcgZ+G7rWkgYmF0Y2ggJHtNYXRoLmNlaWwoYmF0Y2hTdGFydCAvIGNvbmN1cnJlbnRSZXF1ZXN0cyl9Li4uYCwgYmF0Y2hTaXplKTsKCiAgICAgICAgICAgICAgICAvLyBU4bqhbyBt4bqjbmcgcHJvbWlzZXMgY2hvIGJhdGNoIG7DoHkKICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoU2l6ZTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChzZW5kUmVxdWVzdChiYXRjaFN0YXJ0ICsgaSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIENo4budIHThuqV0IGPhuqMgcmVxdWVzdHMgdHJvbmcgYmF0Y2ggaG/DoG4gdGjDoG5oCiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOwoKICAgICAgICAgICAgICAgIC8vIFjhu60gbMO9IGvhur90IHF14bqjCiAgICAgICAgICAgICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaWR4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdG9wcGVkKSByZXR1cm47CgogICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZENvdW50Kys7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2jhu4kgbG9nIG3hu5dpIDUwIHJlcXVlc3RzIMSR4buDIHRyw6FuaCBzcGFtCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWRDb3VudCAlIDUwID09PSAwIHx8IGNvbXBsZXRlZENvdW50IDw9IDEwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dSZXN1bHQoYOKchSBSZXF1ZXN0ICR7cmVzdWx0LmluZGV4fTogVGjDoG5oIGPDtG5nYCwgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgbG9nUmVzdWx0KGDinYwgUmVxdWVzdCAke3Jlc3VsdC5pbmRleH06ICR7cmVzdWx0LnN0YXR1cyA/IGBIVFRQICR7cmVzdWx0LnN0YXR1c31gIDogcmVzdWx0LmVycm9yfWAsICdlcnJvcicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCBwcm9ncmVzcyBzYXUgbeG7l2kgYmF0Y2gKICAgICAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSAoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgxKTsKICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSAoY29tcGxldGVkQ291bnQgLyAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkgKiAxMDAwKS50b0ZpeGVkKDEpOwogICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoY29tcGxldGVkQ291bnQsIG51bWJlck9mUmVxdWVzdHMsIGBIb8OgbiB0aMOgbmggJHtjb21wbGV0ZWRDb3VudH0vJHtudW1iZXJPZlJlcXVlc3RzfSAoJHtyYXRlfSByZXEvcylgLCAwKTsKCiAgICAgICAgICAgICAgICAvLyBEZWxheSBuaOG7jyBnaeG7r2EgY8OhYyBiYXRjaCAobuG6v3UgY+G6p24pCiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hFbmQgPCBudW1iZXJPZlJlcXVlc3RzICYmIGRlbGF5U2Vjb25kcyA+IDAgJiYgIXNob3VsZFN0b3ApIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXlTZWNvbmRzICogMTAwMCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBIb8OgbiB0aMOgbmgKICAgICAgICAgICAgaXNSdW5uaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnN0IHRvdGFsVGltZSA9ICgoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkgLyAxMDAwKS50b0ZpeGVkKDIpOwogICAgICAgICAgICBjb25zdCBhdmdSYXRlID0gKGNvbXBsZXRlZENvdW50IC8gKERhdGUubm93KCkgLSBzdGFydFRpbWUpICogMTAwMCkudG9GaXhlZCgxKTsKCiAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKG51bWJlck9mUmVxdWVzdHMsIG51bWJlck9mUmVxdWVzdHMsIHNob3VsZFN0b3AgPyAnxJDDoyBk4burbmcgbOG6oWknIDogJ0hvw6BuIHRow6BuaCEnKTsKCiAgICAgICAgICAgIGNvbnN0IHN0YXR1c1RleHQgPSBzaG91bGRTdG9wID8gJ8SQw6MgZOG7q25nIGzhuqFpJyA6ICdIb8OgbiB0aMOgbmgnOwogICAgICAgICAgICBsb2dSZXN1bHQoYFxu8J+PgSAke3N0YXR1c1RleHR9ISBU4buVbmcga+G6v3Q6YCwgJ2luZm8nKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDinIUgVGjDoG5oIGPDtG5nOiAke3N1Y2Nlc3NDb3VudH1gLCAnc3VjY2VzcycpOwogICAgICAgICAgICBsb2dSZXN1bHQoYCAgIOKdjCBM4buXaTogJHtlcnJvckNvdW50fWAsICdlcnJvcicpOwogICAgICAgICAgICBsb2dSZXN1bHQoYCAgIOKPse+4jyBUaOG7nWkgZ2lhbjogJHt0b3RhbFRpbWV9c2AsICdpbmZvJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChgICAg4pqhIFThu5FjIMSR4buZIHRydW5nIGLDrG5oOiAke2F2Z1JhdGV9IHJlcXVlc3RzL2dpw6J5YCwgJ2luZm8nKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDwn5OKIFThu4kgbOG7hyB0aMOgbmggY8O0bmc6ICR7KChzdWNjZXNzQ291bnQgLyAoc3VjY2Vzc0NvdW50ICsgZXJyb3JDb3VudCkpICogMTAwKS50b0ZpeGVkKDEpfSVgLCAnaW5mbycpOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3BCdG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0KCiAgICAgICAgLy8gSGnhu4NuIHRo4buLIHBhbmVsIGvhur90IHF14bqjCiAgICAgICAgZnVuY3Rpb24gc2hvd1J1blJlc3VsdHNQYW5lbCgpIHsKICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnVuUmVzdWx0c1BhbmVsJyk7CiAgICAgICAgICAgIHBhbmVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICBwYW5lbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICduZWFyZXN0JyB9KTsKCiAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBuw7p0IHN0b3AKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3BCdG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7CgogICAgICAgICAgICAvLyBDbGVhciBwcmV2aW91cyByZXN1bHRzCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdydW5SZXN1bHRzJykuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgfQoKICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdGhhbmggcHJvZ3Jlc3MKICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhjdXJyZW50LCB0b3RhbCwgbWVzc2FnZSwgYWN0aXZlVGhyZWFkcyA9IDApIHsKICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHRvdGFsID4gMCA/IChjdXJyZW50IC8gdG90YWwpICogMTAwIDogMDsKCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc0JhcicpLnN0eWxlLndpZHRoID0gcGVyY2VudGFnZSArICclJzsKCiAgICAgICAgICAgIC8vIFRow6ptIGhp4buDbiB0aOG7iyB0aHJlYWRzIG7hur91IGPDswogICAgICAgICAgICBjb25zdCBtZXNzYWdlV2l0aFRocmVhZHMgPSBhY3RpdmVUaHJlYWRzID4gMCA/IGAke21lc3NhZ2V9IFske2FjdGl2ZVRocmVhZHN9IHRocmVhZHMgaG/huqF0IMSR4buZbmddYCA6IG1lc3NhZ2U7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc1RleHQnKS50ZXh0Q29udGVudCA9IG1lc3NhZ2VXaXRoVGhyZWFkczsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzQ291bnQnKS50ZXh0Q29udGVudCA9IGAke2N1cnJlbnR9LyR7dG90YWx9YDsKICAgICAgICB9CgogICAgICAgIC8vIEdoaSBsb2cga+G6v3QgcXXhuqMKICAgICAgICBmdW5jdGlvbiBsb2dSZXN1bHQobWVzc2FnZSwgdHlwZSA9ICdpbmZvJykgewogICAgICAgICAgICBjb25zdCByZXN1bHRzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1blJlc3VsdHMnKTsKICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTsKCiAgICAgICAgICAgIGxldCBjb2xvciA9ICcjYTRiMGJlJzsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzdWNjZXNzJykgY29sb3IgPSAnIzU1ZWZjNCc7CiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdlcnJvcicpIGNvbG9yID0gJyNmZjc2NzUnOwogICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnaW5mbycpIGNvbG9yID0gJyM3NGI5ZmYnOwoKICAgICAgICAgICAgY29uc3QgbG9nRW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbG9nRW50cnkuc3R5bGUuY29sb3IgPSBjb2xvcjsKICAgICAgICAgICAgbG9nRW50cnkuc3R5bGUubWFyZ2luQm90dG9tID0gJzNweCc7CiAgICAgICAgICAgIGxvZ0VudHJ5LmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT0iY29sb3I6ICM2MzZlNzI7Ij5bJHt0aW1lc3RhbXB9XTwvc3Bhbj4gJHttZXNzYWdlfWA7CgogICAgICAgICAgICByZXN1bHRzRGl2LmFwcGVuZENoaWxkKGxvZ0VudHJ5KTsKICAgICAgICAgICAgcmVzdWx0c0Rpdi5zY3JvbGxUb3AgPSByZXN1bHRzRGl2LnNjcm9sbEhlaWdodDsKICAgICAgICB9CgogICAgICAgIC8vIEThu6tuZyBjaOG6oXkKICAgICAgICBmdW5jdGlvbiBzdG9wUnVubmluZygpIHsKICAgICAgICAgICAgaWYgKGlzUnVubmluZykgewogICAgICAgICAgICAgICAgc2hvdWxkU3RvcCA9IHRydWU7CiAgICAgICAgICAgICAgICBsb2dSZXN1bHQoJ/Cfm5EgxJBhbmcgZOG7q25nIGzhuqFpLi4uJywgJ2luZm8nKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9wQnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gWMOzYSBr4bq/dCBxdeG6owogICAgICAgIGZ1bmN0aW9uIGNsZWFyUmVzdWx0cygpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1blJlc3VsdHMnKS5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1blJlc3VsdHNQYW5lbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b29sUGxhY2Vob2xkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8gUmVtb3ZlZCBzaW5jZSBwbGFjZWhvbGRlciB3YXMgaW4gZGVsZXRlZCBjb2x1bW4KICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoMCwgMCwgJ1PhurVuIHPDoG5nJyk7CiAgICAgICAgfQoKICAgICAgICAvLyBXcmFwcGVyIGZ1bmN0aW9uIMSR4buDIGNo4bqheSBUVVJCTyBNT0RFIHbhu5tpIGlucHV0IHThu6sgdXNlcgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHJ1blR1cmJvTW9kZVdpdGhJbnB1dCgpIHsKICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZWaWV3cyA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21SZXF1ZXN0cycpLnZhbHVlKSB8fCA1MDAwOwogICAgICAgICAgICBjb25zdCBtYXhDb25jdXJyZW50ID0gMTUwOyAvLyBGaXhlZCAxNTAgdGhyZWFkcyBjaG8gVFVSQk8gTU9ERQogICAgICAgICAgICBhd2FpdCBydW5UdXJib01vZGUobnVtYmVyT2ZWaWV3cywgbWF4Q29uY3VycmVudCk7CiAgICAgICAgfQoKICAgICAgICAvLyBUVVJCTyBNT0RFIC0gQ2jhuqF5IHbhu5tpIFByb21pc2UgUG9vbCDEkeG7gyB04buRaSDGsHUgaGnhu4d1IHN14bqldCBj4buxYyDEkeG6oWkKICAgICAgICBhc3luYyBmdW5jdGlvbiBydW5UdXJib01vZGUobnVtYmVyT2ZSZXF1ZXN0cyA9IDUwMDAsIG1heENvbmN1cnJlbnQgPSAxNTApIHsKICAgICAgICAgICAgaWYgKGlzUnVubmluZykgewogICAgICAgICAgICAgICAgYWxlcnQoJ8SQYW5nIGPDsyB0aeG6v24gdHLDrG5oIGNo4bqheSBraMOhYyEgVnVpIGzDsm5nIGNo4budIGhvw6BuIHRow6BuaCBob+G6t2MgZOG7q25nIGzhuqFpLicpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSBjb25maXJtKGDwn5qAIFRVUkJPIE1PREVcblxu4pqhIFPhur0gY2jhuqF5ICR7bnVtYmVyT2ZSZXF1ZXN0c30gcmVxdWVzdHMgduG7m2kgJHttYXhDb25jdXJyZW50fSB0aHJlYWRzIMSR4buTbmcgdGjhu51pIVxuXG7imqDvuI8gQ+G6o25oIGLDoW86XG4tIFThu5FjIMSR4buZIEPhu7BDIE5IQU5IIChjw7MgdGjhu4MgPiAxMDAwIHJlcS9zKVxuLSBDw7MgdGjhu4MgbMOgbSB0csOsbmggZHV54buHdCBsYWcgdOG6oW0gdGjhu51pXG4tIFNlcnZlciBjw7MgdGjhu4MgY2jhurduIHJhdGUgbGltaXRcblxuQ2jhu4kgZMO5bmcga2hpIHNlcnZlciBjaG8gcGjDqXAgcmF0ZSBjYW8hXG5cblRp4bq/cCB04bulYz9gKTsKCiAgICAgICAgICAgIGlmICghY29uZmlybWVkKSByZXR1cm47CgogICAgICAgICAgICBjb25zdCBsb2dpbkluZm8gPSBnZXRMb2dpbkluZm8oKTsKICAgICAgICAgICAgaWYgKCFsb2dpbkluZm8udG9rZW4pIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdD4bqnbiDEkcSDbmcgbmjhuq1wIHRyxrDhu5tjIGtoaSBjaOG6oXkhJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNob3dSdW5SZXN1bHRzUGFuZWwoKTsKICAgICAgICAgICAgaXNSdW5uaW5nID0gdHJ1ZTsKICAgICAgICAgICAgc2hvdWxkU3RvcCA9IGZhbHNlOwoKICAgICAgICAgICAgY29uc3QgbGl2ZUlkID0gR0xPQkFMX0NPTkZJRy5saXZlSWQ7CiAgICAgICAgICAgIGNvbnN0IGFuY2hvcklkID0gR0xPQkFMX0NPTkZJRy5hbmNob3JJZDsKICAgICAgICAgICAgY29uc3QgdWlkID0gZ2V0VG9rZW5EYXRhKCkudXNlcklkIHx8IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDk5OTk5OTk5OSkgKyAyMDAwMDAwMDAwOwogICAgICAgICAgICBjb25zdCB1ZGlkID0gZ2V0VG9rZW5EYXRhKCkudWRpZCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWRpZCcpIHx8IGdldEd1aWQoKTsKCiAgICAgICAgICAgIGxvZ1Jlc3VsdChg8J+agCBUVVJCTyBNT0RFOiAke251bWJlck9mUmVxdWVzdHN9IHJlcXVlc3RzIHbhu5tpICR7bWF4Q29uY3VycmVudH0gdGhyZWFkcyFgLCAnaW5mbycpOwogICAgICAgICAgICBsb2dSZXN1bHQoYPCfk4ogQ29uZmlnOiBMaXZlSUQ9JHtsaXZlSWR9LCBBbmNob3JJRD0ke2FuY2hvcklkfWAsICdpbmZvJyk7CgogICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDsKICAgICAgICAgICAgbGV0IGVycm9yQ291bnQgPSAwOwogICAgICAgICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwOwogICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpOwoKICAgICAgICAgICAgLy8gUHJvbWlzZSBwb29sIMSR4buDIGtp4buDbSBzb8OhdCBjb25jdXJyZW5jeQogICAgICAgICAgICBjb25zdCBwb29sID0gW107CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTsKCiAgICAgICAgICAgIGNvbnN0IHNlbmRSZXF1ZXN0ID0gYXN5bmMgKGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU3RvcCkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHN0b3BwZWQ6IHRydWUgfTsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgaW5kZXggKiA1OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHhTaWduID0gbWQ1KGAke3VkaWR9amd5aCxrYXNkJHt0aW1lc3RhbXB9YCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tUm9vbUlkID0gMjIwOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2dhdGV3YXkubW1saXZlLm9ubGluZS9saXZlLWNsaWVudC9saXZlL2ludGVyL3Jvb20vJHtyYW5kb21Sb29tSWR9YCwgewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdWSScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXBwaWQnOiAnTU1MaXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRob3JpemF0aW9uJzogYEhTQm94ICR7bG9naW5JbmZvLnRva2VufWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbi1sJzogJ1knLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25ldy1wayc6ICcxJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcmlnaW4nOiAnaHR0cHM6Ly9tbWxpdmUub25saW5lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcyc6ICcwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwLWcnOiAnTicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVmZXJlcic6ICdodHRwczovL21tbGl2ZS5vbmxpbmUvJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWFwcHZlcnNpb24nOiAnMi41LjAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtbGFuZ3VhZ2UnOiAnVkknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtc2lnbic6IHhTaWduLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtdGltZXN0YW1wJzogdGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtdWRpZCc6IHVkaWQKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl2ZUlkOiBsaXZlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkSnVtcFVybDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JJZDogYW5jaG9ySWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Jvb21QcmV2aWV3OiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3M6IDAKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQ291bnQrKzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGluZGV4IH07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgaW5kZXgsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRDb3VudCsrOwogICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgaW5kZXgsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyBDaOG6oXkgduG7m2kgcHJvbWlzZSBwb29sCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bWJlck9mUmVxdWVzdHMgJiYgIXNob3VsZFN0b3A7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHNlbmRSZXF1ZXN0KGkpLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBwb29sIHdoZW4gZG9uZQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcG9vbC5pbmRleE9mKHByb21pc2UpOwogICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSBwb29sLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyBt4buXaSAxMDAgcmVxdWVzdHMKICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkQ291bnQgJSAxMDAgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0ZSA9IChjb21wbGV0ZWRDb3VudCAvIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKSAqIDEwMDApLnRvRml4ZWQoMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKGNvbXBsZXRlZENvdW50LCBudW1iZXJPZlJlcXVlc3RzLCBgVHVyYm8gTW9kZTogJHtyYXRlfSByZXEvc2AsIHBvb2wubGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHBvb2wucHVzaChwcm9taXNlKTsKCiAgICAgICAgICAgICAgICAvLyBLaGkgcG9vbCDEkeG6p3ksIGNo4budIG3hu5l0IHJlcXVlc3QgaG/DoG4gdGjDoG5oCiAgICAgICAgICAgICAgICBpZiAocG9vbC5sZW5ndGggPj0gbWF4Q29uY3VycmVudCkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UucmFjZShwb29sKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gQ2jhu50gdOG6pXQgY+G6oyByZXF1ZXN0cyBjw7JuIGzhuqFpCiAgICAgICAgICAgIGlmIChwb29sLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHBvb2wpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBIb8OgbiB0aMOgbmgKICAgICAgICAgICAgaXNSdW5uaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnN0IHRvdGFsVGltZSA9ICgoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkgLyAxMDAwKS50b0ZpeGVkKDIpOwogICAgICAgICAgICBjb25zdCBhdmdSYXRlID0gKGNvbXBsZXRlZENvdW50IC8gKERhdGUubm93KCkgLSBzdGFydFRpbWUpICogMTAwMCkudG9GaXhlZCgwKTsKCiAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKG51bWJlck9mUmVxdWVzdHMsIG51bWJlck9mUmVxdWVzdHMsICdUVVJCTyBNT0RFIGhvw6BuIHRow6BuaCEnLCAwKTsKCiAgICAgICAgICAgIGxvZ1Jlc3VsdChgXG7wn4+BIFRVUkJPIE1PREUgaG/DoG4gdGjDoG5oIWAsICdpbmZvJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChgICAg4pyFIFRow6BuaCBjw7RuZzogJHtzdWNjZXNzQ291bnR9YCwgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDinYwgTOG7l2k6ICR7ZXJyb3JDb3VudH1gLCAnZXJyb3InKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDij7HvuI8gVGjhu51pIGdpYW46ICR7dG90YWxUaW1lfXNgLCAnaW5mbycpOwogICAgICAgICAgICBsb2dSZXN1bHQoYCAgIOKaoSBU4buRYyDEkeG7mSB0cnVuZyBiw6xuaDogJHthdmdSYXRlfSByZXF1ZXN0cy9nacOieWAsICdpbmZvJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChgICAg8J+TiiBU4buJIGzhu4cgdGjDoG5oIGPDtG5nOiAkeygoc3VjY2Vzc0NvdW50IC8gY29tcGxldGVkQ291bnQpICogMTAwKS50b0ZpeGVkKDEpfSVgLCAnaW5mbycpOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3BCdG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0KCiAgICAgICAgLy8gUEjDgSBJRE9MIE1PREUgLSBDaOG6oXkgdsOybmcgbOG6t3Aga2jDtG5nIGdp4bubaSBo4bqhbiB24bubaSA1MDAwIHJlcXVlc3RzLCAxNTAgdGhyZWFkcwogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHJ1blBoYUlkb2xNb2RlKCkgewogICAgICAgICAgICBpZiAoaXNSdW5uaW5nKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnxJBhbmcgY8OzIHRp4bq/biB0csOsbmggY2jhuqF5IGtow6FjISBWdWkgbMOybmcgY2jhu50gaG/DoG4gdGjDoG5oIGhv4bq3YyBk4burbmcgbOG6oWkuJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGNvbmZpcm0oYPCfkqUgQ0jhur4gxJDhu5ggUEjDgSBJRE9MXG5cbvCflKUgQ2jhuqF5IFbDkk5HIEzhurZQIEtIw5RORyBHSeG7mkkgSOG6oE4hXG7imqEgTeG7l2kgdsOybmc6IDUwMDAgcmVxdWVzdHMgduG7m2kgMTUwIHRocmVhZHNcblxu4pqg77iPIEPhuqJOSCBCw4FPIEPhu7BDIE3huqBOSDpcbi0gQ2jhuqF5IExJw4pOIFThu6RDIGNobyDEkeG6v24ga2hpIGLhuqFuIGThu6tuZ1xuLSBU4buRYyDEkeG7mSBD4buwQyBOSEFOSCAoPiAxMDAwIHJlcS9zKVxuLSBDw7MgdGjhu4MgbMOgbSB0csOsbmggZHV54buHdCBsYWcgbmdoacOqbSB0cuG7jW5nXG4tIFNlcnZlciBjw7MgdGjhu4MgY2jhurduIElQXG4tIENI4buIIEThu6pORyBLSEkgQuG6oE4gTkjhuqROIE7DmlQgROG7qk5HIVxuXG7im5QgQ0jhu4ggRMOZTkcgS0hJIFRI4bqsVCBT4buwIEPhuqZOIFRISeG6vlQhXG5cbkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB0aeG6v3AgdOG7pWM/YCk7CgogICAgICAgICAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuOwoKICAgICAgICAgICAgY29uc3QgbG9naW5JbmZvID0gZ2V0TG9naW5JbmZvKCk7CiAgICAgICAgICAgIGlmICghbG9naW5JbmZvLnRva2VuKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnQ+G6p24gxJHEg25nIG5o4bqtcCB0csaw4bubYyBraGkgY2jhuqF5IScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzaG93UnVuUmVzdWx0c1BhbmVsKCk7CiAgICAgICAgICAgIGlzUnVubmluZyA9IHRydWU7CiAgICAgICAgICAgIHNob3VsZFN0b3AgPSBmYWxzZTsKCiAgICAgICAgICAgIGNvbnN0IGxpdmVJZCA9IEdMT0JBTF9DT05GSUcubGl2ZUlkOwogICAgICAgICAgICBjb25zdCBhbmNob3JJZCA9IEdMT0JBTF9DT05GSUcuYW5jaG9ySWQ7CiAgICAgICAgICAgIGNvbnN0IHVpZCA9IGdldFRva2VuRGF0YSgpLnVzZXJJZCB8fCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5OTk5OTk5OTkpICsgMjAwMDAwMDAwMDsKICAgICAgICAgICAgY29uc3QgdWRpZCA9IGdldFRva2VuRGF0YSgpLnVkaWQgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VkaWQnKSB8fCBnZXRHdWlkKCk7CgogICAgICAgICAgICBsb2dSZXN1bHQoYPCfkqUgQ0jhur4gxJDhu5ggUEjDgSBJRE9MIELhuq5UIMSQ4bqmVSFgLCAnZXJyb3InKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGDwn5SlIFbDsm5nIGzhurdwIGtow7RuZyBnaeG7m2kgaOG6oW4gLSA1MDAwIHJlcXVlc3RzL3bDsm5nIC0gMTUwIHRocmVhZHNgLCAnZXJyb3InKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGDwn5OKIENvbmZpZzogTGl2ZUlEPSR7bGl2ZUlkfSwgQW5jaG9ySUQ9JHthbmNob3JJZH1gLCAnaW5mbycpOwogICAgICAgICAgICBsb2dSZXN1bHQoYOKaoO+4jyBOaOG6pW4gbsO6dCBE4buqTkcgxJHhu4Mga+G6v3QgdGjDumMhXG5gLCAnaW5mbycpOwoKICAgICAgICAgICAgbGV0IHRvdGFsU3VjY2Vzc0NvdW50ID0gMDsKICAgICAgICAgICAgbGV0IHRvdGFsRXJyb3JDb3VudCA9IDA7CiAgICAgICAgICAgIGxldCB0b3RhbENvbXBsZXRlZENvdW50ID0gMDsKICAgICAgICAgICAgbGV0IGxvb3BDb3VudCA9IDA7CiAgICAgICAgICAgIGNvbnN0IGdsb2JhbFN0YXJ0VGltZSA9IERhdGUubm93KCk7CgogICAgICAgICAgICAvLyBWw7JuZyBs4bq3cCBraMO0bmcgZ2nhu5tpIGjhuqFuCiAgICAgICAgICAgIHdoaWxlICghc2hvdWxkU3RvcCkgewogICAgICAgICAgICAgICAgbG9vcENvdW50Kys7CiAgICAgICAgICAgICAgICBsb2dSZXN1bHQoYFxu8J+UhCA9PT0gVsOSTkcgJHtsb29wQ291bnR9IELhuq5UIMSQ4bqmVSA9PT1gLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlck9mUmVxdWVzdHMgPSA1MDAwOwogICAgICAgICAgICAgICAgY29uc3QgbWF4Q29uY3VycmVudCA9IDE1MDsKCiAgICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDsKICAgICAgICAgICAgICAgIGxldCBlcnJvckNvdW50ID0gMDsKICAgICAgICAgICAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpOwoKICAgICAgICAgICAgICAgIC8vIFByb21pc2UgcG9vbCDEkeG7gyBraeG7g20gc2/DoXQgY29uY3VycmVuY3kKICAgICAgICAgICAgICAgIGNvbnN0IHBvb2wgPSBbXTsKCiAgICAgICAgICAgICAgICBjb25zdCBzZW5kUmVxdWVzdCA9IGFzeW5jIChpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRTdG9wKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgc3RvcHBlZDogdHJ1ZSB9OwoKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIGluZGV4ICogNTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeFNpZ24gPSBtZDUoYCR7dWRpZH1qZ3loLGthc2Qke3RpbWVzdGFtcH1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tUm9vbUlkID0gMjIwOwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9nYXRld2F5Lm1tbGl2ZS5vbmxpbmUvbGl2ZS1jbGllbnQvbGl2ZS9pbnRlci9yb29tLyR7cmFuZG9tUm9vbUlkfWAsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ1ZJJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXBwaWQnOiAnTU1MaXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXV0aG9yaXphdGlvbic6IGBIU0JveCAke2xvZ2luSW5mby50b2tlbn1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbi1sJzogJ1knLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXctcGsnOiAnMScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29yaWdpbic6ICdodHRwczovL21tbGl2ZS5vbmxpbmUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcyc6ICcwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncC1nJzogJ04nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8vbW1saXZlLm9ubGluZS8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWFwcHZlcnNpb24nOiAnMi41LjAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWxhbmd1YWdlJzogJ1ZJJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1zaWduJzogeFNpZ24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtdGltZXN0YW1wJzogdGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LXVkaWQnOiB1ZGlkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdmVJZDogbGl2ZUlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogdWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkSnVtcFVybDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9ySWQ6IGFuY2hvcklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUm9vbVByZXZpZXc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3M6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxDb21wbGV0ZWRDb3VudCsrOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsU3VjY2Vzc0NvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBpbmRleCB9OwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFcnJvckNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgaW5kZXgsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRDb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbENvbXBsZXRlZENvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFcnJvckNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBpbmRleCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIC8vIENo4bqheSB24bubaSBwcm9taXNlIHBvb2wKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bWJlck9mUmVxdWVzdHMgJiYgIXNob3VsZFN0b3A7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBzZW5kUmVxdWVzdChpKS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIHBvb2wgd2hlbiBkb25lCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcG9vbC5pbmRleE9mKHByb21pc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkgcG9vbC5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIG3hu5dpIDEwMCByZXF1ZXN0cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkQ291bnQgJSAxMDAgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSAoY29tcGxldGVkQ291bnQgLyAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkgKiAxMDAwKS50b0ZpeGVkKDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsUmF0ZSA9ICh0b3RhbENvbXBsZXRlZENvdW50IC8gKERhdGUubm93KCkgLSBnbG9iYWxTdGFydFRpbWUpICogMTAwMCkudG9GaXhlZCgwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKGNvbXBsZXRlZENvdW50LCBudW1iZXJPZlJlcXVlc3RzLCBg8J+SpSBQaMOhIElkb2wgVsOybmcgJHtsb29wQ291bnR9OiAke3JhdGV9IHJlcS9zIHwgVOG7lW5nOiAke2dsb2JhbFJhdGV9IHJlcS9zYCwgcG9vbC5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIHBvb2wucHVzaChwcm9taXNlKTsKCiAgICAgICAgICAgICAgICAgICAgLy8gS2hpIHBvb2wgxJHhuqd5LCBjaOG7nSBt4buZdCByZXF1ZXN0IGhvw6BuIHRow6BuaAogICAgICAgICAgICAgICAgICAgIGlmIChwb29sLmxlbmd0aCA+PSBtYXhDb25jdXJyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UucmFjZShwb29sKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gQ2jhu50gdOG6pXQgY+G6oyByZXF1ZXN0cyBjw7JuIGzhuqFpIGPhu6dhIHbDsm5nIG7DoHkKICAgICAgICAgICAgICAgIGlmIChwb29sLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwb29sKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBL4bq/dCB0aMO6YyB2w7JuZyBs4bq3cAogICAgICAgICAgICAgICAgY29uc3QgbG9vcFRpbWUgPSAoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgIGNvbnN0IGxvb3BSYXRlID0gKGNvbXBsZXRlZENvdW50IC8gKERhdGUubm93KCkgLSBzdGFydFRpbWUpICogMTAwMCkudG9GaXhlZCgwKTsKCiAgICAgICAgICAgICAgICBsb2dSZXN1bHQoYPCfj4EgVsOybmcgJHtsb29wQ291bnR9IGhvw6BuIHRow6BuaCFgLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDinIUgVGjDoG5oIGPDtG5nOiAke3N1Y2Nlc3NDb3VudH0gfCDinYwgTOG7l2k6ICR7ZXJyb3JDb3VudH1gLCAnaW5mbycpOwogICAgICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDij7HvuI8gVGjhu51pIGdpYW46ICR7bG9vcFRpbWV9cyB8IOKaoSBU4buRYyDEkeG7mTogJHtsb29wUmF0ZX0gcmVxL3NgLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgIC8vIE7hur91IHNob3VsZFN0b3AgPSB0cnVlLCB0aG/DoXQgdsOybmcgbOG6t3AKICAgICAgICAgICAgICAgIGlmIChzaG91bGRTdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgbG9nUmVzdWx0KGBcbuKblCDEkMOjIGThu6tuZyBi4bufaSBuZ8aw4budaSBkw7luZyFgLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBEZWxheSBuaOG7jyBnaeG7r2EgY8OhYyB2w7JuZyAoMTAwbXMpIMSR4buDIHRyw6FuaCBxdcOhIHThuqNpCiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEhvw6BuIHRow6BuaCB0b8OgbiBi4buZCiAgICAgICAgICAgIGlzUnVubmluZyA9IGZhbHNlOwogICAgICAgICAgICBjb25zdCB0b3RhbFRpbWUgPSAoKERhdGUubm93KCkgLSBnbG9iYWxTdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgyKTsKICAgICAgICAgICAgY29uc3QgYXZnUmF0ZSA9ICh0b3RhbENvbXBsZXRlZENvdW50IC8gKERhdGUubm93KCkgLSBnbG9iYWxTdGFydFRpbWUpICogMTAwMCkudG9GaXhlZCgwKTsKCiAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKHRvdGFsQ29tcGxldGVkQ291bnQsIHRvdGFsQ29tcGxldGVkQ291bnQsICdQSMOBIElET0wgTU9ERSBIT8OATiBUSMOATkghJywgMCk7CgogICAgICAgICAgICBsb2dSZXN1bHQoYFxu8J+SpSA9PT0gS+G6vlQgVEjDmkMgQ0jhur4gxJDhu5ggUEjDgSBJRE9MID09PWAsICdlcnJvcicpOwogICAgICAgICAgICBsb2dSZXN1bHQoYPCflIQgVOG7lW5nIHPhu5EgdsOybmc6ICR7bG9vcENvdW50fWAsICdpbmZvJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChg8J+TiiBU4buUTkcgS+G6vlQ6YCwgJ2luZm8nKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDinIUgVGjDoG5oIGPDtG5nOiAke3RvdGFsU3VjY2Vzc0NvdW50fWAsICdzdWNjZXNzJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChgICAg4p2MIEzhu5dpOiAke3RvdGFsRXJyb3JDb3VudH1gLCAnZXJyb3InKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDwn5OIIFThu5VuZyByZXF1ZXN0czogJHt0b3RhbENvbXBsZXRlZENvdW50fWAsICdpbmZvJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChgICAg4o+x77iPIFThu5VuZyB0aOG7nWkgZ2lhbjogJHt0b3RhbFRpbWV9c2AsICdpbmZvJyk7CiAgICAgICAgICAgIGxvZ1Jlc3VsdChgICAg4pqhIFThu5FjIMSR4buZIHRydW5nIGLDrG5oOiAke2F2Z1JhdGV9IHJlcXVlc3RzL2dpw6J5YCwgJ2luZm8nKTsKICAgICAgICAgICAgbG9nUmVzdWx0KGAgICDwn5OKIFThu4kgbOG7hyB0aMOgbmggY8O0bmc6ICR7KCh0b3RhbFN1Y2Nlc3NDb3VudCAvIHRvdGFsQ29tcGxldGVkQ291bnQpICogMTAwKS50b0ZpeGVkKDEpfSVgLCAnaW5mbycpOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3BCdG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0KCiAgICAgICAgLy8gVG9nZ2xlIGhp4buDbiB0aOG7iyBt4bqtdCBraOG6qXUKICAgICAgICBmdW5jdGlvbiB0b2dnbGVQYXNzd29yZCgpIHsKICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpOwogICAgICAgICAgICBjb25zdCBwYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZC10b2dnbGUnKTsKCiAgICAgICAgICAgIGlmIChwYXNzd29yZElucHV0LnR5cGUgPT09ICdwYXNzd29yZCcpIHsKICAgICAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9ICd0ZXh0JzsKICAgICAgICAgICAgICAgIHBhc3N3b3JkVG9nZ2xlLnRleHRDb250ZW50ID0gJ/CfmYgnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gJ3Bhc3N3b3JkJzsKICAgICAgICAgICAgICAgIHBhc3N3b3JkVG9nZ2xlLnRleHRDb250ZW50ID0gJ/CfkYHvuI8nOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBWYWxpZGF0ZSBmb3JtCiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVGb3JtKCkgewogICAgICAgICAgICBjb25zdCBtb2JpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKTsKICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKTsKICAgICAgICAgICAgY29uc3QgbW9iaWxlRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWxFcnJvcicpOwogICAgICAgICAgICBjb25zdCBwYXNzd29yZEVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkRXJyb3InKTsKCiAgICAgICAgICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTsKCiAgICAgICAgICAgIC8vIFJlc2V0IGVycm9ycwogICAgICAgICAgICBtb2JpbGVFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBwYXNzd29yZEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIG1vYmlsZS5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZTFlMWUxJzsKICAgICAgICAgICAgcGFzc3dvcmQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2UxZTFlMSc7CgogICAgICAgICAgICAvLyBWYWxpZGF0ZSBtb2JpbGUgcGhvbmUgKFZpZXRuYW0gZm9ybWF0KQogICAgICAgICAgICBjb25zdCBwaG9uZVJlZ2V4ID0gL14oMFszfDV8N3w4fDldKSsoWzAtOV17OH0pJC87CiAgICAgICAgICAgIGlmICghbW9iaWxlLnZhbHVlLnRyaW0oKSB8fCAhcGhvbmVSZWdleC50ZXN0KG1vYmlsZS52YWx1ZS50cmltKCkpKSB7CiAgICAgICAgICAgICAgICBtb2JpbGVFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIG1vYmlsZS5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZGMzNTQ1JzsKICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgcGFzc3dvcmQKICAgICAgICAgICAgaWYgKCFwYXNzd29yZC52YWx1ZSB8fCBwYXNzd29yZC52YWx1ZS5sZW5ndGggPCA2KSB7CiAgICAgICAgICAgICAgICBwYXNzd29yZEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgcGFzc3dvcmQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2RjMzU0NSc7CiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkOwogICAgICAgIH0KCiAgICAgICAgLy8gWOG7rSBsw70gc3VibWl0IGZvcm0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5Gb3JtJykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgaWYgKHZhbGlkYXRlRm9ybSgpKSB7CiAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgbG9hZGluZwogICAgICAgICAgICAgICAgY29uc3QgbG9naW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW4tYnRuJyk7CiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSBsb2dpbkJ0bi50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgIGxvZ2luQnRuLnRleHRDb250ZW50ID0gJ8SQYW5nIMSRxINuZyBuaOG6rXAuLi4nOwogICAgICAgICAgICAgICAgbG9naW5CdG4uZGlzYWJsZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIC8vIEzhuqV5IGThu68gbGnhu4d1IHThu6sgZm9ybQogICAgICAgICAgICAgICAgY29uc3QgbW9iaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKS52YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IHJlbWVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbWVtYmVyJykuY2hlY2tlZDsgLy8gTOG6pXkgdHLhuqFuZyB0aMOhaSBjaGVja2JveCBnaGkgbmjhu5sKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIC8vIEfhu41pIEFQSSDEkcSDbmcgbmjhuq1wCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk54gQ2FsbGluZyBsb2dpbkFQSS4uLicpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvZ2luQVBJKG1vYmlsZSwgcGFzc3dvcmQpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OoIFJlY2VpdmVkIHJlc3VsdCBmcm9tIGxvZ2luQVBJOicsIHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc3VsdCB0eXBlOicsIHR5cGVvZiByZXN1bHQpOwoKICAgICAgICAgICAgICAgICAgICAvLyBLaeG7g20gdHJhIHJlc3VsdCBjw7MgdOG7k24gdOG6oWkga2jDtG5nCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEtow7RuZyBuaOG6rW4gxJHGsOG7o2MgcGjhuqNuIGjhu5NpIHThu6sgc2VydmVyIC0gcmVzdWx0IGlzOicsIHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfwn5qoIEzhu5dpIHNlcnZlciFcblxu4pqg77iPIEtow7RuZyBuaOG6rW4gxJHGsOG7o2MgcGjhuqNuIGjhu5NpIHThu6sgc2VydmVyLlxuVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdS4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDEkMSDbmcgbmjhuq1wIHRow6BuaCBjw7RuZyEgJHtyZXN1bHQubWVzc2FnZSB8fCAnU3VjY2Vzcyd9YCk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBY4busIEzDnSBHSEkgTkjhu5ogxJDEgk5HIE5I4bqsUAogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtZW1iZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzYXZlZE1vYmlsZScsIG1vYmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNw6MgaMOzYSDEkcahbiBnaeG6o24gbeG6rXQga2jhuql1IChiYXNlNjQpIMSR4buDIGtow7RuZyBsxrB1IHBsYWludGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NhdmVkUGFzc3dvcmQnLCBidG9hKHBhc3N3b3JkKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXNSZW1lbWJlcmVkJywgJ3RydWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE7hur91IGtow7RuZyBjaGVjayB0aMOsIHjDs2EgdGjDtG5nIHRpbiBjxakKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYXZlZE1vYmlsZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3NhdmVkUGFzc3dvcmQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpc1JlbWVtYmVyZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHRow7RuZyB0aW4gxJHDoyBsxrB1CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBzYXZlZDonLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aFRva2VuJykpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmFuZG9tIEtleTonLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmFuZG9tS2V5JykpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmFuZG9tIFZlY3RvcjonLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmFuZG9tVmVjdG9yJykpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG9naW4gVGltZTonLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9naW5UaW1lJykpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IFVzZXIgSW5mbyBVSQogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVVc2VySW5mb0Rpc3BsYXkoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEzhuqV5IHRow7RuZyB0aW4gY2hpIHRp4bq/dCB1c2VyIHbDoCBkYW5oIHPDoWNoIGlkb2wKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZldGNoaW5nIHVzZXIgcHJvZmlsZSBpbmZvcm1hdGlvbi4uLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRldGFpbCA9IGF3YWl0IGdldFVzZXJJbmZvKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlckRldGFpbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVVzZXJJbmZvRGlzcGxheSh1c2VyRGV0YWlsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZldGNoZWQgdXNlciBkZXRhaWw6JywgdXNlckRldGFpbC5uaWNrbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTOG6pXkgZGFuaCBzw6FjaCBpZG9sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OrSBGZXRjaGluZyBpZG9sIGxpc3QuLi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkb2xzID0gYXdhaXQgZ2V0SWRvbExpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46tIFJlY2VpdmVkIGlkb2xzIGZyb20gQVBJOicsIGlkb2xzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46tIElkb2xzIHR5cGU6JywgdHlwZW9mIGlkb2xzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46tIElkb2xzIGxlbmd0aDonLCBpZG9scyA/IGlkb2xzLmxlbmd0aCA6ICdudWxsJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkb2xzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjqggQ2FsbGluZyByZW5kZXJBcGlJZG9sTGlzdC4uLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckFwaUlkb2xMaXN0KGlkb2xzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1Y2Nlc3NmdWxseSBsb2FkZWQgaWRvbCBsaXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgTm8gaWRvbHMgcmVjZWl2ZWQgZnJvbSBBUEknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyB1c2VyIGRhdGEgb3IgaWRvbCBsaXN0OicsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8g4bqobiB0b8OgbiBi4buZIGxvZ2luIGNvbnRhaW5lcgogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW4tY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgMiBjb2x1bW5zOiBTaWRlYmFyIGFuZCBJZG9sIChNaWRkbGUgY29sdW1uIHJlbW92ZWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyU2VjdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9vbENvbnRhaW5lckNvbHVtbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAvLyBERUxFVEVECiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pZG9sLWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIGRhbmggc8OhY2ggaWRvbAogICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJJZG9sTGlzdCgpOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyB0aMO0bmcgYsOhbyB24bubaSB0b2tlbiAoY2jhu4kgxJHhu4MgdGVzdCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLnRva2VuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG9ydFRva2VuID0gcmVzdWx0LmRhdGEudG9rZW4uc3Vic3RyaW5nKDAsIDIwKSArICcuLi4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFRva2VuIMSRw6MgxJHGsOG7o2MgbMawdTogJHtzaG9ydFRva2VufWApOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gcmVzdWx0LmVycm9yIHx8IHJlc3VsdC5tZXNzYWdlIHx8ICfEkMSDbmcgbmjhuq1wIHRo4bqldCBi4bqhaSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYMSQxINuZyBuaOG6rXAgdGjhuqV0IGLhuqFpOiAke2Vycm9yTXNnfWApOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGFsZXJ0IGzhu5dpIMSRxINuZyBuaOG6rXAKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsZXJ0TWVzc2FnZSA9ICfinYwgxJDEg25nIG5o4bqtcCB0aOG6pXQgYuG6oWkhXG5cbic7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBY4butIGzDvSBjw6FjIGxv4bqhaSBs4buXaSBj4bulIHRo4buDCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvck1zZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdwYXNzd29yZCcpIHx8IGVycm9yTXNnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ23huq10IGto4bqpdScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydE1lc3NhZ2UgKz0gJ/CflJEgTeG6rXQga2jhuql1IGtow7RuZyBjaMOtbmggeMOhYy5cblZ1aSBsw7JuZyBraeG7g20gdHJhIGzhuqFpIG3huq10IGto4bqpdS4nOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yTXNnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Bob25lJykgfHwgZXJyb3JNc2cudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbW9iaWxlJykgfHwgZXJyb3JNc2cudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnxJFp4buHbiB0aG/huqFpJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZSArPSAn8J+TsSBT4buRIMSRaeG7h24gdGhv4bqhaSBraMO0bmcgdOG7k24gdOG6oWkuXG5WdWkgbMOybmcga2nhu4NtIHRyYSBs4bqhaSBz4buRIMSRaeG7h24gdGhv4bqhaS4nOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yTXNnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2FjY291bnQnKSB8fCBlcnJvck1zZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0w6BpIGtob+G6o24nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlICs9ICfwn5GkIFTDoGkga2hv4bqjbiBraMO0bmcgaOG7o3AgbOG7hy5cblZ1aSBsw7JuZyBraeG7g20gdHJhIHRow7RuZyB0aW4gxJHEg25nIG5o4bqtcC4nOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlICs9IGDwn5OLIENoaSB0aeG6v3QgbOG7l2k6ICR7ZXJyb3JNc2d9YDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYWxlcnRNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDw7MgbOG7l2kgeOG6o3kgcmEga2hpIMSRxINuZyBuaOG6rXAuIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSEnKTsKCiAgICAgICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGFsZXJ0IGzhu5dpIGvhur90IG7hu5FpCiAgICAgICAgICAgICAgICAgICAgbGV0IG5ldHdvcmtFcnJvck1zZyA9ICfwn5qoIEzhu5dpIGvhur90IG7hu5FpIVxuXG4nOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1R5cGVFcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29ya0Vycm9yTXNnICs9ICfwn4yQIEtow7RuZyB0aOG7gyBr4bq/dCBu4buRaSDEkeG6v24gc2VydmVyLlxuVnVpIGzDsm5nIGtp4buDbSB0cmEga+G6v3QgbuG7kWkgaW50ZXJuZXQgY+G7p2EgYuG6oW4uJzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29ya0Vycm9yTXNnICs9ICfimqDvuI8gU2VydmVyIHRy4bqjIHbhu4EgZOG7ryBsaeG7h3Uga2jDtG5nIGjhu6NwIGzhu4cuXG5WdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1Lic7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29ya0Vycm9yTXNnICs9IGDwn5OLIENoaSB0aeG6v3QgbOG7l2k6ICR7ZXJyb3IubWVzc2FnZSB8fCAnTOG7l2kga2jDtG5nIHjDoWMgxJHhu4tuaCd9YDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGFsZXJ0KG5ldHdvcmtFcnJvck1zZyk7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IG7DunQgxJHEg25nIG5o4bqtcAogICAgICAgICAgICAgICAgICAgIGxvZ2luQnRuLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0OwogICAgICAgICAgICAgICAgICAgIGxvZ2luQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCgogICAgICAgIC8vIFRow6ptIGhp4buHdSDhu6luZyBraGkgbmjhuq1wIGxp4buHdQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykuZm9yRWFjaChpbnB1dCA9PiB7CiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjAyKSc7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gQXV0byBmb2N1cyB2w6Aga2nhu4NtIHRyYSDEkcSDbmcgbmjhuq1wIGtoaSB0cmFuZyBsb2FkCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIFThu7AgxJDhu5hORyDEkEnhu4BOIFRIw5RORyBUSU4gxJDDgyBHSEkgTkjhu5oKICAgICAgICAgICAgY29uc3Qgc2F2ZWRNb2JpbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2F2ZWRNb2JpbGUnKTsKICAgICAgICAgICAgY29uc3Qgc2F2ZWRQYXNzd29yZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzYXZlZFBhc3N3b3JkJyk7CiAgICAgICAgICAgIGNvbnN0IGlzUmVtZW1iZXJlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc1JlbWVtYmVyZWQnKSA9PT0gJ3RydWUnOwoKICAgICAgICAgICAgaWYgKHNhdmVkTW9iaWxlICYmIGlzUmVtZW1iZXJlZCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsJykudmFsdWUgPSBzYXZlZE1vYmlsZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1lbWJlcicpLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzYXZlZFBhc3N3b3JkICYmIGlzUmVtZW1iZXJlZCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyBHaeG6o2kgbcOjIG3huq10IGto4bqpdSBiYXNlNjQKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKS52YWx1ZSA9IGF0b2Ioc2F2ZWRQYXNzd29yZCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kgZ2nhuqNpIG3DoyBt4bqtdCBraOG6qXUgxJHDoyBsxrB1Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEF1dG8gZm9jdXMgdsOgbyBz4buRIMSRaeG7h24gdGhv4bqhaSBu4bq/dSBjaMawYSDEkcSDbmcgbmjhuq1wIHbDoCBjaMawYSBjw7MgdGjDtG5nIHRpbiBsxrB1CiAgICAgICAgICAgIGlmICghaXNMb2dnZWRJbigpICYmICFzYXZlZE1vYmlsZSkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsJykuZm9jdXMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSB4ZW0gxJHDoyDEkcSDbmcgbmjhuq1wIGNoxrBhCiAgICAgICAgICAgIGlmIChpc0xvZ2dlZEluKCkpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2luSW5mbyA9IGdldExvZ2luSW5mbygpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ8SQw6MgxJHEg25nIG5o4bqtcCB0csaw4bubYyDEkcOzOicsIGxvZ2luSW5mbyk7CgogICAgICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IFVzZXIgSW5mbyBVSQogICAgICAgICAgICAgICAgdXBkYXRlVXNlckluZm9EaXNwbGF5KCk7CgogICAgICAgICAgICAgICAgLy8gTOG6pXkgdGjDtG5nIHRpbiBjaGkgdGnhur90IHVzZXIgdsOgIGRhbmggc8OhY2ggaWRvbCBu4bq/dSBjw7MgdG9rZW4gaOG7o3AgbOG7hwogICAgICAgICAgICAgICAgKGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRGV0YWlsID0gYXdhaXQgZ2V0VXNlckluZm8oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJEZXRhaWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVVzZXJJbmZvRGlzcGxheSh1c2VyRGV0YWlsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgTG9hZGVkIHVzZXIgZGV0YWlsIGZyb20gc2F2ZWQgc2Vzc2lvbjonLCB1c2VyRGV0YWlsLm5pY2tuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gTOG6pXkgZGFuaCBzw6FjaCBpZG9sIHThu6sgQVBJIGtoaSByZWxvYWQgdHJhbmcKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gRmV0Y2hpbmcgaWRvbCBsaXN0IG9uIHBhZ2UgcmVsb2FkLi4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkb2xzID0gYXdhaXQgZ2V0SWRvbExpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gUmVjZWl2ZWQgaWRvbHMgZnJvbSBBUEkgb24gcmVsb2FkOicsIGlkb2xzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZG9scykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjqggUmVuZGVyaW5nIEFQSSBpZG9sIGxpc3Qgb24gcmVsb2FkLi4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJBcGlJZG9sTGlzdChpZG9scyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1Y2Nlc3NmdWxseSBsb2FkZWQgaWRvbCBsaXN0IG9uIHJlbG9hZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBObyBpZG9scyByZWNlaXZlZCBmcm9tIEFQSSBvbiByZWxvYWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQ291bGQgbm90IGZldGNoIHVzZXIgZGV0YWlsIG9yIGlkb2wgbGlzdCBmcm9tIHNhdmVkIHNlc3Npb246JywgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkoKTsKCiAgICAgICAgICAgICAgICAvLyDhuqhuIHRvw6BuIGLhu5kgbG9naW4gY29udGFpbmVyICAKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbi1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgICAgICAgICAgIC8vIFNob3cgMiBjb2x1bW5zOiBTaWRlYmFyIGFuZCBJZG9sIChNaWRkbGUgY29sdW1uIHJlbW92ZWQpCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhclNlY3Rpb24nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b29sQ29udGFpbmVyQ29sdW1uJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vIERFTEVURUQKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pZG9sLWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKICAgICAgICAgICAgICAgIC8vIFJlbmRlciBkYW5oIHPDoWNoIGlkb2wgbmdheSBzYXUga2hpIGhp4buDbiB0aOG7iyBjb250YWluZXIKICAgICAgICAgICAgICAgIHJlbmRlcklkb2xMaXN0KCk7CgogICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHRow7RuZyBiw6FvCiAgICAgICAgICAgICAgICBjb25zdCBsb2dpblRpbWUgPSBuZXcgRGF0ZShsb2dpbkluZm8ubG9naW5UaW1lKS50b0xvY2FsZVN0cmluZygndmktVk4nKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDEkMSDbmcgbmjhuq1wIGzhuqduIGN14buRaTogJHtsb2dpblRpbWV9YCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgLy8gUmVuZGVyIGRhbmggc8OhY2ggaWRvbCBraGkgdHJhbmcgbG9hZCAoY2jhu4kga2hpIGNoxrBhIGPDsyBzZXNzaW9uKQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNvbnN0IGxvZ2luSW5mbyA9IGdldExvZ2luSW5mbygpOwogICAgICAgICAgICBpZiAoIWxvZ2luSW5mby50b2tlbikgewogICAgICAgICAgICAgICAgLy8gQ2jhu4kgcmVuZGVyIHBsYWNlaG9sZGVyIG7hur91IGNoxrBhIMSRxINuZyBuaOG6rXAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn4+gIFBhZ2UgbG9hZGVkIC0gbm8gc2F2ZWQgc2Vzc2lvbiwgc2hvd2luZyBwbGFjZWhvbGRlcicpOwogICAgICAgICAgICAgICAgcmVuZGVySWRvbExpc3QoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn4+gIFBhZ2UgbG9hZGVkIC0gaGFzIHNhdmVkIHNlc3Npb24sIHdpbGwgbG9hZCBBUEkgZGF0YScpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBTZXR1cCBzZWFyY2ggaW5wdXQgZXZlbnRzCiAgICAgICAgICAgIHNldHVwU2VhcmNoSW5wdXQoKTsKICAgICAgICB9KTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+Cgo8L2h0bWw+";
function _0xDeploy() {
    var _0xContent = decodeURIComponent(escape(atob(_0xSafe)));
    document.open();
    document.write(_0xContent);
    document.close();
}
_0xDeploy();
            
</script>
</body>
</html>
